(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["npm.vue-virtual-scroller~e7303ab8"],{e508:function(e,t,i){"use strict";(function(e){i.d(t,"a",(function(){return M}));var s=i("252c"),r=i("85fe"),l=i("ed83"),n=i.n(l),o=(i("2b0e"),{itemsLimit:1e3});const a={items:{type:Array,required:!0},keyField:{type:String,default:"id"},direction:{type:String,default:"vertical",validator:e=>["vertical","horizontal"].includes(e)},listTag:{type:String,default:"div"},itemTag:{type:String,default:"div"}};function d(){return this.items.length&&"object"!==typeof this.items[0]}let c=!1;if("undefined"!==typeof window){c=!1;try{var h=Object.defineProperty({},"passive",{get(){c=!0}});window.addEventListener("test",null,h)}catch(B){}}let u=0;var p={name:"RecycleScroller",components:{ResizeObserver:s["a"]},directives:{ObserveVisibility:r["a"]},props:{...a,itemSize:{type:Number,default:null},gridItems:{type:Number,default:void 0},itemSecondarySize:{type:Number,default:void 0},minItemSize:{type:[Number,String],default:null},sizeField:{type:String,default:"size"},typeField:{type:String,default:"type"},buffer:{type:Number,default:200},pageMode:{type:Boolean,default:!1},prerender:{type:Number,default:0},emitUpdate:{type:Boolean,default:!1},skipHover:{type:Boolean,default:!1},listTag:{type:String,default:"div"},itemTag:{type:String,default:"div"},listClass:{type:[String,Object,Array],default:""},itemClass:{type:[String,Object,Array],default:""}},data(){return{pool:[],totalSize:0,ready:!1,hoverKey:null}},computed:{sizes(){if(null===this.itemSize){const e={"-1":{accumulator:0}},t=this.items,i=this.sizeField,s=this.minItemSize;let r,l=1e4,n=0;for(let o=0,a=t.length;o<a;o++)r=t[o][i]||s,r<l&&(l=r),n+=r,e[o]={accumulator:n,size:r};return this.$_computedMinItemSize=l,e}return[]},simpleArray:d},watch:{items(){this.updateVisibleItems(!0)},pageMode(){this.applyPageMode(),this.updateVisibleItems(!1)},sizes:{handler(){this.updateVisibleItems(!1)},deep:!0},gridItems(){this.updateVisibleItems(!0)},itemSecondarySize(){this.updateVisibleItems(!0)}},created(){this.$_startIndex=0,this.$_endIndex=0,this.$_views=new Map,this.$_unusedViews=new Map,this.$_scrollDirty=!1,this.$_lastUpdateScrollPosition=0,this.prerender&&(this.$_prerender=!0,this.updateVisibleItems(!1)),this.gridItems&&!this.itemSize&&console.error("[vue-recycle-scroller] You must provide an itemSize when using gridItems")},mounted(){this.applyPageMode(),this.$nextTick(()=>{this.$_prerender=!1,this.updateVisibleItems(!0),this.ready=!0})},activated(){const e=this.$_lastUpdateScrollPosition;"number"===typeof e&&this.$nextTick(()=>{this.scrollToPosition(e)})},beforeDestroy(){this.removeListeners()},methods:{addView(e,t,i,s,r){const l={item:i,position:0},n={id:u++,index:t,used:!0,key:s,type:r};return Object.defineProperty(l,"nr",{configurable:!1,value:n}),e.push(l),l},unuseView(e,t=!1){const i=this.$_unusedViews,s=e.nr.type;let r=i.get(s);r||(r=[],i.set(s,r)),r.push(e),t||(e.nr.used=!1,e.position=-9999,this.$_views.delete(e.nr.key))},handleResize(){this.$emit("resize"),this.ready&&this.updateVisibleItems(!1)},handleScroll(e){this.$_scrollDirty||(this.$_scrollDirty=!0,requestAnimationFrame(()=>{this.$_scrollDirty=!1;const{continuous:e}=this.updateVisibleItems(!1,!0);e||(clearTimeout(this.$_refreshTimout),this.$_refreshTimout=setTimeout(this.handleScroll,100))}))},handleVisibilityChange(e,t){this.ready&&(e||0!==t.boundingClientRect.width||0!==t.boundingClientRect.height?(this.$emit("visible"),requestAnimationFrame(()=>{this.updateVisibleItems(!1)})):this.$emit("hidden"))},updateVisibleItems(e,t=!1){const i=this.itemSize,s=this.gridItems||1,r=this.itemSecondarySize||i,l=this.$_computedMinItemSize,n=this.typeField,a=this.simpleArray?null:this.keyField,d=this.items,c=d.length,h=this.sizes,u=this.$_views,p=this.$_unusedViews,m=this.pool;let v,f,y,$,g,z;if(c)if(this.$_prerender)v=$=0,f=g=Math.min(this.prerender,d.length),y=null;else{const e=this.getScroll();if(t){let t=e.start-this.$_lastUpdateScrollPosition;if(t<0&&(t=-t),null===i&&t<l||t<i)return{continuous:!0}}this.$_lastUpdateScrollPosition=e.start;const r=this.buffer;e.start-=r,e.end+=r;let n=0;if(this.$refs.before&&(n=this.$refs.before.scrollHeight,e.start-=n),this.$refs.after){const t=this.$refs.after.scrollHeight;e.end+=t}if(null===i){let t,i,s=0,r=c-1,l=~~(c/2);do{i=l,t=h[l].accumulator,t<e.start?s=l:l<c-1&&h[l+1].accumulator>e.start&&(r=l),l=~~((s+r)/2)}while(l!==i);for(l<0&&(l=0),v=l,y=h[c-1].accumulator,f=l;f<c&&h[f].accumulator<e.end;f++);for(-1===f?f=d.length-1:(f++,f>c&&(f=c)),$=v;$<c&&n+h[$].accumulator<e.start;$++);for(g=$;g<c&&n+h[g].accumulator<e.end;g++);}else{v=~~(e.start/i*s);const t=v%s;v-=t,f=Math.ceil(e.end/i*s),$=Math.max(0,Math.floor((e.start-n)/i*s)),g=Math.floor((e.end-n)/i*s),v<0&&(v=0),f>c&&(f=c),$<0&&($=0),g>c&&(g=c),y=Math.ceil(c/s)*i}}else v=f=$=g=y=0;f-v>o.itemsLimit&&this.itemsLimitError(),this.totalSize=y;const S=v<=this.$_endIndex&&f>=this.$_startIndex;if(this.$_continuous!==S){if(S){u.clear(),p.clear();for(let e=0,t=m.length;e<t;e++)z=m[e],this.unuseView(z)}this.$_continuous=S}else if(S)for(let o=0,R=m.length;o<R;o++)z=m[o],z.nr.used&&(e&&(z.nr.index=d.indexOf(z.item)),(-1===z.nr.index||z.nr.index<v||z.nr.index>=f)&&this.unuseView(z));const _=S?null:new Map;let b,w,T,D;for(let o=v;o<f;o++){b=d[o];const e=a?b[a]:b;if(null==e)throw new Error(`Key is ${e} on item (keyField is '${a}')`);z=u.get(e),i||h[o].size?(z?(z.nr.used=!0,z.item=b):(o===d.length-1&&this.$emit("scroll-end"),0===o&&this.$emit("scroll-start"),w=b[n],T=p.get(w),S?T&&T.length?(z=T.pop(),z.item=b,z.nr.used=!0,z.nr.index=o,z.nr.key=e,z.nr.type=w):z=this.addView(m,o,b,e,w):(D=_.get(w)||0,(!T||D>=T.length)&&(z=this.addView(m,o,b,e,w),this.unuseView(z,!0),T=p.get(w)),z=T[D],z.item=b,z.nr.used=!0,z.nr.index=o,z.nr.key=e,z.nr.type=w,_.set(w,D+1),D++),u.set(e,z)),null===i?(z.position=h[o-1].accumulator,z.offset=0):(z.position=Math.floor(o/s)*i,z.offset=o%s*r)):z&&this.unuseView(z)}return this.$_startIndex=v,this.$_endIndex=f,this.emitUpdate&&this.$emit("update",v,f,$,g),clearTimeout(this.$_sortTimer),this.$_sortTimer=setTimeout(this.sortViews,300),{continuous:S}},getListenerTarget(){let e=n()(this.$el);return!window.document||e!==window.document.documentElement&&e!==window.document.body||(e=window),e},getScroll(){const{$el:e,direction:t}=this,i="vertical"===t;let s;if(this.pageMode){const t=e.getBoundingClientRect(),r=i?t.height:t.width;let l=-(i?t.top:t.left),n=i?window.innerHeight:window.innerWidth;l<0&&(n+=l,l=0),l+n>r&&(n=r-l),s={start:l,end:l+n}}else s=i?{start:e.scrollTop,end:e.scrollTop+e.clientHeight}:{start:e.scrollLeft,end:e.scrollLeft+e.clientWidth};return s},applyPageMode(){this.pageMode?this.addListeners():this.removeListeners()},addListeners(){this.listenerTarget=this.getListenerTarget(),this.listenerTarget.addEventListener("scroll",this.handleScroll,!!c&&{passive:!0}),this.listenerTarget.addEventListener("resize",this.handleResize)},removeListeners(){this.listenerTarget&&(this.listenerTarget.removeEventListener("scroll",this.handleScroll),this.listenerTarget.removeEventListener("resize",this.handleResize),this.listenerTarget=null)},scrollToItem(e){let t;t=null===this.itemSize?e>0?this.sizes[e-1].accumulator:0:Math.floor(e/this.gridItems)*this.itemSize,this.scrollToPosition(t)},scrollToPosition(e){const t="vertical"===this.direction?{scroll:"scrollTop",start:"top"}:{scroll:"scrollLeft",start:"left"};let i,s,r;if(this.pageMode){const l=n()(this.$el),o="HTML"===l.tagName?0:l[t.scroll],a=l.getBoundingClientRect(),d=this.$el.getBoundingClientRect(),c=d[t.start]-a[t.start];i=l,s=t.scroll,r=e+o+c}else i=this.$el,s=t.scroll,r=e;i[s]=r},itemsLimitError(){throw setTimeout(()=>{console.log("It seems the scroller element isn't scrolling, so it tries to render all the items at once.","Scroller:",this.$el),console.log("Make sure the scroller has a fixed height (or width) and 'overflow-y' (or 'overflow-x') set to 'auto' so it can scroll correctly and only render the items visible in the scroll viewport.")}),new Error("Rendered items limit reached")},sortViews(){this.pool.sort((e,t)=>e.nr.index-t.nr.index)}}};function m(e,t,i,s,r,l,n,o,a,d){"boolean"!==typeof n&&(a=o,o=n,n=!1);const c="function"===typeof i?i.options:i;let h;if(e&&e.render&&(c.render=e.render,c.staticRenderFns=e.staticRenderFns,c._compiled=!0,r&&(c.functional=!0)),s&&(c._scopeId=s),l?(h=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),t&&t.call(this,a(e)),e&&e._registeredComponents&&e._registeredComponents.add(l)},c._ssrRegister=h):t&&(h=n?function(e){t.call(this,d(e,this.$root.$options.shadowRoot))}:function(e){t.call(this,o(e))}),h)if(c.functional){const e=c.render;c.render=function(t,i){return h.call(i),e(t,i)}}else{const e=c.beforeCreate;c.beforeCreate=e?[].concat(e,h):[h]}return i}const v=p;var f=function(){var e,t,i=this,s=i.$createElement,r=i._self._c||s;return r("div",{directives:[{name:"observe-visibility",rawName:"v-observe-visibility",value:i.handleVisibilityChange,expression:"handleVisibilityChange"}],staticClass:"vue-recycle-scroller",class:(e={ready:i.ready,"page-mode":i.pageMode},e["direction-"+i.direction]=!0,e),on:{"&scroll":function(e){return i.handleScroll.apply(null,arguments)}}},[i.$slots.before?r("div",{ref:"before",staticClass:"vue-recycle-scroller__slot"},[i._t("before")],2):i._e(),i._v(" "),r(i.listTag,{ref:"wrapper",tag:"component",staticClass:"vue-recycle-scroller__item-wrapper",class:i.listClass,style:(t={},t["vertical"===i.direction?"minHeight":"minWidth"]=i.totalSize+"px",t)},[i._l(i.pool,(function(e){return r(i.itemTag,i._g({key:e.nr.id,tag:"component",staticClass:"vue-recycle-scroller__item-view",class:[i.itemClass,{hover:!i.skipHover&&i.hoverKey===e.nr.key}],style:i.ready?{transform:"translate"+("vertical"===i.direction?"Y":"X")+"("+e.position+"px) translate"+("vertical"===i.direction?"X":"Y")+"("+e.offset+"px)",width:i.gridItems?("vertical"===i.direction&&i.itemSecondarySize||i.itemSize)+"px":void 0,height:i.gridItems?("horizontal"===i.direction&&i.itemSecondarySize||i.itemSize)+"px":void 0}:null},i.skipHover?{}:{mouseenter:function(){i.hoverKey=e.nr.key},mouseleave:function(){i.hoverKey=null}}),[i._t("default",null,{item:e.item,index:e.nr.index,active:e.nr.used})],2)})),i._v(" "),i._t("empty")],2),i._v(" "),i.$slots.after?r("div",{ref:"after",staticClass:"vue-recycle-scroller__slot"},[i._t("after")],2):i._e(),i._v(" "),r("ResizeObserver",{on:{notify:i.handleResize}})],1)},y=[];f._withStripped=!0;const $=void 0,g=void 0,z=void 0,S=!1,_=m({render:f,staticRenderFns:y},$,v,g,S,z,!1,void 0,void 0,void 0);var b={name:"DynamicScroller",components:{RecycleScroller:_},provide(){return"undefined"!==typeof ResizeObserver&&(this.$_resizeObserver=new ResizeObserver(e=>{requestAnimationFrame(()=>{if(Array.isArray(e))for(const t of e)if(t.target){const e=new CustomEvent("resize",{detail:{contentRect:t.contentRect}});t.target.dispatchEvent(e)}})})),{vscrollData:this.vscrollData,vscrollParent:this,vscrollResizeObserver:this.$_resizeObserver}},inheritAttrs:!1,props:{...a,minItemSize:{type:[Number,String],required:!0}},data(){return{vscrollData:{active:!0,sizes:{},validSizes:{},keyField:this.keyField,simpleArray:!1}}},computed:{simpleArray:d,itemsWithSize(){const e=[],{items:t,keyField:i,simpleArray:s}=this,r=this.vscrollData.sizes,l=t.length;for(let n=0;n<l;n++){const l=t[n],o=s?n:l[i];let a=r[o];"undefined"!==typeof a||this.$_undefinedMap[o]||(a=0),e.push({item:l,id:o,size:a})}return e},listeners(){const e={};for(const t in this.$listeners)"resize"!==t&&"visible"!==t&&(e[t]=this.$listeners[t]);return e}},watch:{items(){this.forceUpdate(!1)},simpleArray:{handler(e){this.vscrollData.simpleArray=e},immediate:!0},direction(e){this.forceUpdate(!0)},itemsWithSize(e,t){const i=this.$el.scrollTop;let s=0,r=0;const l=Math.min(e.length,t.length);for(let o=0;o<l;o++){if(s>=i)break;s+=t[o].size||this.minItemSize,r+=e[o].size||this.minItemSize}const n=r-s;0!==n&&(this.$el.scrollTop+=n)}},beforeCreate(){this.$_updates=[],this.$_undefinedSizes=0,this.$_undefinedMap={}},activated(){this.vscrollData.active=!0},deactivated(){this.vscrollData.active=!1},methods:{onScrollerResize(){const e=this.$refs.scroller;e&&this.forceUpdate(),this.$emit("resize")},onScrollerVisible(){this.$emit("vscroll:update",{force:!1}),this.$emit("visible")},forceUpdate(e=!0){(e||this.simpleArray)&&(this.vscrollData.validSizes={}),this.$emit("vscroll:update",{force:!0})},scrollToItem(e){const t=this.$refs.scroller;t&&t.scrollToItem(e)},getItemSize(e,t){const i=this.simpleArray?null!=t?t:this.items.indexOf(e):e[this.keyField];return this.vscrollData.sizes[i]||0},scrollToBottom(){if(this.$_scrollingToBottom)return;this.$_scrollingToBottom=!0;const e=this.$el;this.$nextTick(()=>{e.scrollTop=e.scrollHeight+5e3;const t=()=>{e.scrollTop=e.scrollHeight+5e3,requestAnimationFrame(()=>{e.scrollTop=e.scrollHeight+5e3,0===this.$_undefinedSizes?this.$_scrollingToBottom=!1:requestAnimationFrame(t)})};requestAnimationFrame(t)})}}};const w=b;var T=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("RecycleScroller",e._g(e._b({ref:"scroller",attrs:{items:e.itemsWithSize,"min-item-size":e.minItemSize,direction:e.direction,"key-field":"id","list-tag":e.listTag,"item-tag":e.itemTag},on:{resize:e.onScrollerResize,visible:e.onScrollerVisible},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.item,s=t.index,r=t.active;return[e._t("default",null,null,{item:i.item,index:s,active:r,itemWithSize:i})]}}],null,!0)},"RecycleScroller",e.$attrs,!1),e.listeners),[e._v(" "),i("template",{slot:"before"},[e._t("before")],2),e._v(" "),i("template",{slot:"after"},[e._t("after")],2),e._v(" "),i("template",{slot:"empty"},[e._t("empty")],2)],2)},D=[];T._withStripped=!0;const R=void 0,V=void 0,x=void 0,I=!1,M=m({render:T,staticRenderFns:D},R,w,V,I,x,!1,void 0,void 0,void 0);var k={name:"DynamicScrollerItem",inject:["vscrollData","vscrollParent","vscrollResizeObserver"],props:{item:{required:!0},watchData:{type:Boolean,default:!1},active:{type:Boolean,required:!0},index:{type:Number,default:void 0},sizeDependencies:{type:[Array,Object],default:null},emitResize:{type:Boolean,default:!1},tag:{type:String,default:"div"}},computed:{id(){if(this.vscrollData.simpleArray)return this.index;if(this.item.hasOwnProperty(this.vscrollData.keyField))return this.item[this.vscrollData.keyField];throw new Error(`keyField '${this.vscrollData.keyField}' not found in your item. You should set a valid keyField prop on your Scroller`)},size(){return this.vscrollData.validSizes[this.id]&&this.vscrollData.sizes[this.id]||0},finalActive(){return this.active&&this.vscrollData.active}},watch:{watchData:"updateWatchData",id(){this.size||this.onDataUpdate()},finalActive(e){this.size||(e?this.vscrollParent.$_undefinedMap[this.id]||(this.vscrollParent.$_undefinedSizes++,this.vscrollParent.$_undefinedMap[this.id]=!0):this.vscrollParent.$_undefinedMap[this.id]&&(this.vscrollParent.$_undefinedSizes--,this.vscrollParent.$_undefinedMap[this.id]=!1)),this.vscrollResizeObserver?e?this.observeSize():this.unobserveSize():e&&this.$_pendingVScrollUpdate===this.id&&this.updateSize()}},created(){if(!this.$isServer&&(this.$_forceNextVScrollUpdate=null,this.updateWatchData(),!this.vscrollResizeObserver)){for(const e in this.sizeDependencies)this.$watch(()=>this.sizeDependencies[e],this.onDataUpdate);this.vscrollParent.$on("vscroll:update",this.onVscrollUpdate),this.vscrollParent.$on("vscroll:update-size",this.onVscrollUpdateSize)}},mounted(){this.vscrollData.active&&(this.updateSize(),this.observeSize())},beforeDestroy(){this.vscrollParent.$off("vscroll:update",this.onVscrollUpdate),this.vscrollParent.$off("vscroll:update-size",this.onVscrollUpdateSize),this.unobserveSize()},methods:{updateSize(){this.finalActive?this.$_pendingSizeUpdate!==this.id&&(this.$_pendingSizeUpdate=this.id,this.$_forceNextVScrollUpdate=null,this.$_pendingVScrollUpdate=null,this.computeSize(this.id)):this.$_forceNextVScrollUpdate=this.id},updateWatchData(){this.watchData&&!this.vscrollResizeObserver?this.$_watchData=this.$watch("item",()=>{this.onDataUpdate()},{deep:!0}):this.$_watchData&&(this.$_watchData(),this.$_watchData=null)},onVscrollUpdate({force:e}){!this.finalActive&&e&&(this.$_pendingVScrollUpdate=this.id),this.$_forceNextVScrollUpdate!==this.id&&!e&&this.size||this.updateSize()},onDataUpdate(){this.updateSize()},computeSize(e){this.$nextTick(()=>{if(this.id===e){const e=this.$el.offsetWidth,t=this.$el.offsetHeight;this.applySize(e,t)}this.$_pendingSizeUpdate=null})},applySize(e,t){const i=~~("vertical"===this.vscrollParent.direction?t:e);i&&this.size!==i&&(this.vscrollParent.$_undefinedMap[this.id]&&(this.vscrollParent.$_undefinedSizes--,this.vscrollParent.$_undefinedMap[this.id]=void 0),this.$set(this.vscrollData.sizes,this.id,i),this.$set(this.vscrollData.validSizes,this.id,!0),this.emitResize&&this.$emit("resize",this.id))},observeSize(){this.vscrollResizeObserver&&this.$el.parentNode&&(this.vscrollResizeObserver.observe(this.$el.parentNode),this.$el.parentNode.addEventListener("resize",this.onResize))},unobserveSize(){this.vscrollResizeObserver&&(this.vscrollResizeObserver.unobserve(this.$el.parentNode),this.$el.parentNode.removeEventListener("resize",this.onResize))},onResize(e){const{width:t,height:i}=e.detail.contentRect;this.applySize(t,i)}},render(e){return e(this.tag,this.$slots.default)}};const P=k,U=void 0,C=void 0,A=void 0,O=void 0,F=m({},U,P,C,O,A,!1,void 0,void 0,void 0);function L(e,t){e.component(t+"recycle-scroller",_),e.component(t+"RecycleScroller",_),e.component(t+"dynamic-scroller",M),e.component(t+"DynamicScroller",M),e.component(t+"dynamic-scroller-item",F),e.component(t+"DynamicScrollerItem",F)}const E={version:"1.1.2",install(e,t){const i=Object.assign({},{installComponents:!0,componentsPrefix:""},t);for(const s in i)"undefined"!==typeof i[s]&&(o[s]=i[s]);i.installComponents&&L(e,i.componentsPrefix)}};let N=null;"undefined"!==typeof window?N=window.Vue:"undefined"!==typeof e&&(N=e.Vue),N&&N.use(E)}).call(this,i("c8ba"))}}]);