(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6d0cac15"],{"7d67":function(e,l,a){},"9aeb":function(e,l,a){},c3a9:function(e,l,a){"use strict";a("7d67")},df95:function(e,l,a){"use strict";a("9aeb")},f954:function(e,l,a){"use strict";a.r(l);var t=function(){var e=this,l=e._self._c;return l("div",{attrs:{id:"app"}},[l("el-table",{attrs:{"cell-class-name":e.cellClassName,height:"480",data:e.tableData,border:""},on:{"cell-dblclick":e.dblclick}},[l("el-table-column",{attrs:{align:"center",type:"index",label:"序号",width:"50"}}),l("el-table-column",{attrs:{align:"center",prop:"name",label:"姓名",width:"180"}}),l("el-table-column",{attrs:{align:"center",prop:"age",label:"年龄",width:"180"}}),l("el-table-column",{attrs:{align:"center",prop:"home",label:"家乡"}})],1)],1)},n=[],s=a("2b0e"),i=function(){var e=this,l=e._self._c;return l("div",{staticClass:"cell"},[l("el-input",{ref:"elInputRef",attrs:{size:"mini"},on:{blur:e.blurFn},model:{value:e.cellValue,callback:function(l){e.cellValue="string"===typeof l?l.trim():l},expression:"cellValue"}})],1)},r=[],o={props:{cellValue:{type:String|Number,default:""},saveRowData:Function,cellDom:Node,row:Object,property:String,validateFn:Function,validateMessage:String},mounted(){this.$refs.elInputRef.focus()},methods:{blurFn(){this.saveRowData({cellValue:this.cellValue,cellDom:this.cellDom,row:this.row,property:this.property,isPassValidate:this.validateFn(this.cellValue),validateMessage:this.validateMessage})}}},c=o,u=(a("df95"),a("2877")),d=Object(u["a"])(c,i,r,!1,null,null,null),p=d.exports,m=function(){var e=this,l=e._self._c;return l("span",{staticClass:"cell"},[e._v(e._s(e.cellValue))])},h=[],b={props:{cellValue:{type:String|Number,default:""}}},v=b,g=Object(u["a"])(v,m,h,!1,null,null,null),f=g.exports;const w=s["default"].extend(p),V=s["default"].extend(f);var y={inputC:w,spanC:V};function C(e){return e.length<=6}function D(e){return Number(e)<=1e3}function x(e){return!0}var F={name:"clickTableCanEditName",data(){return{tableData:[{name:"孙悟空",age:500,home:"花果山水帘洞"},{name:"猪八戒",age:88,home:"高老庄"},{name:"沙和尚",age:1e3,home:"通天河"}],oldCellValue:null,columnAddValidate:{name:{validateFn:C,validateMessage:"名字最大不能超过6个字符"},age:{validateFn:D,validateMessage:"注意！年龄是数字类型，且最大不能超过1000岁"},home:{validateFn:x}}}},methods:{cellClassName({row:e,column:l,rowIndex:a,columnIndex:t}){e.index=a},dblclick(e,l,a,t){if(console.log("column",l),"序号"==l.label)return void this.$message({type:"warning",message:"序号列不允许编辑"});this.oldCellValue=e[l.property];let n=e[l.property];new y.inputC({propsData:{cellValue:n,saveRowData:this.saveRowData,cellDom:a,row:e,property:l.property,validateFn:this.columnAddValidate[l.property].validateFn,validateMessage:this.columnAddValidate[l.property].validateMessage}}).$mount(a.children[0])},saveRowData(e){e.isPassValidate?(setTimeout(()=>{this.$set(this.tableData,e.row.index,e.row),console.log("发请求更新数据啦")},300),e.row[e.property]=e.cellValue,e.cellValue=e.cellValue,this.recoverCell(e)):(this.$message({type:"warning",message:e.validateMessage}),e.row[e.property]=this.oldCellValue,e.cellValue=this.oldCellValue,this.recoverCell(e))},recoverCell(e){new y.spanC({propsData:{cellValue:e.cellValue}}).$mount(e.cellDom.children[0])}}},k=F,M=(a("c3a9"),Object(u["a"])(k,t,n,!1,null,"04975d8c",null));l["default"]=M.exports}}]);