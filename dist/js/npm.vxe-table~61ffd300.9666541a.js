(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["npm.vxe-table~61ffd300"],{a6b2:function(e,t,r){"use strict";function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=p(r("c695")),l=p(r("0838")),o=p(r("cd45")),a=p(r("8ea1")),s=r("dbe7"),u=g(r("f3f4")),c=g(r("1201")),h=r("32b9"),d=r("58a9"),f=r("ad76");function v(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(v=function(e){return e?r:t})(e)}function g(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!==typeof e)return{default:e};var r=v(t);if(r&&r.has(e))return r.get(e);var n={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=l?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}function p(e){return e&&e.__esModule?e:{default:e}}function m(e){return C(e)||b(e)||w(e)||x()}function x(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function w(e,t){if(e){if("string"===typeof e)return R(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?R(e,t):void 0}}function b(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function C(e){if(Array.isArray(e))return R(e)}function R(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,i=new Array(t);r<t;r++)i[r]=e[r];return i}function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function T(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach((function(t){S(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function S(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var E=u.default.setCellValue,k=u.default.hasChildrenList,O=u.default.getColumnList,I=c.default.calcHeight,D=c.default.hasClass,$=c.default.addClass,L=c.default.removeClass,A=c.default.getEventTargetNode,M=c.default.isNodeElement,F=c.browse["-webkit"]&&!c.browse.edge,z=c.browse.msie?80:20,V="VXE_TABLE_CUSTOM_COLUMN_WIDTH",H="VXE_TABLE_CUSTOM_COLUMN_VISIBLE";function W(){return n.default.uniqueId("row_")}function B(e,t,r){var i=n.default.get(e,r),l=n.default.get(t,r);return!(!(0,u.eqEmptyValue)(i)||!(0,u.eqEmptyValue)(l))||(n.default.isString(i)||n.default.isNumber(i)?""+i===""+l:n.default.isEqual(i,l))}function q(e,t){var r=e.sortOpts.orders,i=t.order||null,n=r.indexOf(i)+1;return r[n<r.length?n:0]}function N(e){var t=l.default.version,r=n.default.toStringJSON(localStorage.getItem(e));return r&&r._v===t?r:{_v:t}}function P(e,t){var r=e.fullAllDataRowMap;return t.filter((function(e){return r.has(e)}))}function j(e,t){var r=e.fullDataRowIdData,i=[];return n.default.each(t,(function(e,t){r[t]&&-1===i.indexOf(r[t].row)&&i.push(r[t].row)})),i}function _(e){var t=e.$refs,r=e.visibleColumn,i=t.tableBody,n=i?i.$el:null;if(n){for(var l=n.scrollLeft,o=n.clientWidth,a=l+o,s=-1,u=0,c=0,h=0,d=r.length;h<d;h++)if(u+=r[h].renderWidth,-1===s&&l<u&&(s=h),s>=0&&(c++,u>a))break;return{toVisibleIndex:Math.max(0,s),visibleSize:Math.max(8,c)}}return{toVisibleIndex:0,visibleSize:8}}function Y(e){var t=e.$refs,r=e.vSize,i=e.rowHeightMaps,n=t.tableHeader,l=t.tableBody,o=l?l.$el:null;if(o){var a,s=n?n.$el:null,u=0;a=o.querySelector("tr"),!a&&s&&(a=s.querySelector("tr")),a&&(u=a.clientHeight),u||(u=i[r||"default"]);var c=Math.max(8,Math.ceil(o.clientHeight/u)+2);return{rowHeight:u,visibleSize:c}}return{rowHeight:0,visibleSize:8}}function X(e,t,r){for(var i=0,n=e.length;i<n;i++){var l=e[i],o=t.startIndex,a=t.endIndex,s=l[r],u=l[r+"span"],c=s+u;s<o&&o<c&&(t.startIndex=s),s<a&&a<c&&(t.endIndex=c),t.startIndex===o&&t.endIndex===a||(i=-1)}}function U(e,t,r,i){if(t){var l=e.treeConfig,o=e.visibleColumn;n.default.isArray(t)||(t=[t]),l&&t.length&&(0,d.errLog)("vxe.error.noTree",["merge-cells | merge-footer-items"]),t.forEach((function(e){var t=e.row,l=e.col,a=e.rowspan,s=e.colspan;if(i&&n.default.isNumber(t)&&(t=i[t]),n.default.isNumber(l)&&(l=o[l]),(i?t:n.default.isNumber(t))&&l&&(a||s)&&(a=n.default.toNumber(a)||1,s=n.default.toNumber(s)||1,a>1||s>1)){var u=n.default.findIndexOf(r,(function(e){return e._row===t&&e._col===l})),c=r[u];if(c)c.rowspan=a,c.colspan=s,c._rowspan=a,c._colspan=s;else{var h=i?i.indexOf(t):t,d=o.indexOf(l);r.push({row:h,col:d,rowspan:a,colspan:s,_row:t,_col:l,_rowspan:a,_colspan:s})}}}))}}function K(e,t,r,i){var l=[];if(t){var o=e.treeConfig,a=e.visibleColumn;n.default.isArray(t)||(t=[t]),o&&t.length&&(0,d.errLog)("vxe.error.noTree",["merge-cells | merge-footer-items"]),t.forEach((function(e){var t=e.row,o=e.col;i&&n.default.isNumber(t)&&(t=i[t]),n.default.isNumber(o)&&(o=a[o]);var s=n.default.findIndexOf(r,(function(e){return e._row===t&&e._col===o}));if(s>-1){var u=r.splice(s,1);l.push(u[0])}}))}return l}function G(e){e.tableFullColumn.forEach((function(e){e.order=null}))}function Z(e,t){var r=t.sortBy,i=t.sortType;return function(l){var o;return o=r?n.default.isFunction(r)?r({row:l,column:t}):n.default.get(l,r):e.getCellLabel(l,t),i&&"auto"!==i?"number"===i?n.default.toNumber(o):"string"===i?n.default.toValueString(o):o:isNaN(o)?o:n.default.toNumber(o)}}var J={callSlot:function(e,t,r,i){if(e){var l=this.$xegrid;if(l)return l.callSlot(e,t,r,i);if(n.default.isFunction(e))return(0,f.getSlotVNs)(e.call(this,t,r,i))}return[]},getParentElem:function(){var e=this.$el,t=this.$xegrid;return t?t.$el.parentNode:e.parentNode},getParentHeight:function(){var e=this.$el,t=this.$xegrid,r=this.height,i=e.parentNode,l="auto"===r?(0,c.getPaddingTopBottomSize)(i):0;return Math.floor(t?t.getParentHeight():n.default.toNumber(getComputedStyle(i).height)-l)},getExcludeHeight:function(){var e=this.$xegrid;return e?e.getExcludeHeight():0},clearAll:function(){return(0,s.clearTableAllStatus)(this)},syncData:function(){var e=this;return this.$nextTick().then((function(){return e.tableData=[],e.$nextTick().then((function(){return e.loadTableData(e.tableFullData)}))}))},updateData:function(){var e=this,t=this.scrollXLoad,r=this.scrollYLoad;return this.handleTableData(!0).then((function(){if(e.updateFooter(),e.checkSelectionStatus(),t||r)return t&&e.updateScrollXSpace(),r&&e.updateScrollYSpace(),e.refreshScroll()})).then((function(){return e.updateCellAreas(),e.recalculate(!0)})).then((function(){setTimeout((function(){return e.recalculate()}),50)}))},handleTableData:function(e){var t=this,r=this.scrollYLoad,i=this.scrollYStore,n=this.fullDataRowIdData,l=this.afterFullData,o=l;e&&(this.updateAfterFullData(),o=this.handleVirtualTreeToList());var a=r?o.slice(i.startIndex,i.endIndex):o.slice(0);return a.forEach((function(e,r){var i=(0,s.getRowid)(t,e),l=n[i];l&&(l.$index=r)})),this.tableData=a,this.$nextTick()},updateScrollYStatus:function(e){var t=this.treeConfig,r=this.treeOpts,i=this.sYOpts,n=r.transform,l=(n||!t)&&!!i.enabled&&i.gt>-1&&(0===i.gt||i.gt<=e.length);return this.scrollYLoad=l,l},loadTableData:function(e){var t=this,r=this.keepSource,i=this.treeConfig,l=this.treeOpts,o=this.editStore,a=this.scrollYStore,u=this.scrollXStore,c=this.lastScrollLeft,h=this.lastScrollTop,d=this.scrollYLoad,f=this.sXOpts,v=this.sYOpts,g=[],p=e?e.slice(0):[];i&&(l.transform?(g=n.default.toArrayTree(p,{key:l.rowField,parentKey:l.parentField,children:l.children,mapChildren:l.mapChildren}),p=g.slice(0)):g=p.slice(0)),a.startIndex=0,a.endIndex=1,u.startIndex=0,u.endIndex=1,o.insertList=[],o.removeList=[];var m=this.updateScrollYStatus(p);return this.scrollYLoad=m,this.tableFullData=p,this.tableFullTreeData=g,this.cacheRowMap(!0),this.tableSynchData=e,r&&(this.tableSourceData=n.default.clone(p,!0)),this.clearCellAreas&&this.mouseConfig&&(this.clearCellAreas(),this.clearCopyCellArea()),this.clearMergeCells(),this.clearMergeFooterItems(),this.handleTableData(!0),this.updateFooter(),this.$nextTick().then((function(){t.updateHeight(),t.updateStyle()})).then((function(){t.computeScrollLoad()})).then((function(){return m&&(a.endIndex=a.visibleSize),t.handleReserveStatus(),t.checkSelectionStatus(),new Promise((function(e){t.$nextTick().then((function(){return t.recalculate()})).then((function(){var r=c,i=h;f.scrollToLeftOnChange&&(r=0),v.scrollToTopOnChange&&(i=0),d===m?(0,s.restoreScrollLocation)(t,r,i).then(e):setTimeout((function(){return(0,s.restoreScrollLocation)(t,r,i).then(e)}))}))}))}))},loadData:function(e){var t=this,r=this.inited,i=this.initStatus;return this.loadTableData(e).then((function(){return t.inited=!0,t.initStatus=!0,i||t.handleLoadDefaults(),r||t.handleInitDefaults(),t.recalculate()}))},reloadData:function(e){var t=this,r=this.inited;return this.clearAll().then((function(){return t.inited=!0,t.initStatus=!0,t.loadTableData(e)})).then((function(){return t.handleLoadDefaults(),r||t.handleInitDefaults(),t.recalculate()}))},reloadRow:function(e,t,r){var i=this.keepSource,l=this.tableSourceData,o=this.tableData;if(i){var a=this.getRowIndex(e),s=l[a];if(s&&e)if(r){var u=n.default.get(t||e,r);n.default.set(e,r,u),n.default.set(s,r,u)}else{var c=n.default.clone(T({},t),!0);n.default.destructuring(s,Object.assign(e,c))}this.tableData=o.slice(0)}else 0;return this.$nextTick()},loadColumn:function(e){var t=this,r=n.default.mapTree(e,(function(e){return o.default.createColumn(t,e)}),{children:"children"});return this.handleColumn(r)},reloadColumn:function(e){var t=this;return this.clearAll().then((function(){return t.loadColumn(e)}))},handleColumn:function(e){var t=this;this.collectColumn=e;var r=O(e);return this.tableFullColumn=r,this.cacheColumnMap(),this.restoreCustomStorage(),this.parseColumns().then((function(){t.scrollXLoad&&t.loadScrollXData(!0)})),this.clearMergeCells(),this.clearMergeFooterItems(),this.handleTableData(!0),this.$nextTick().then((function(){return t.$toolbar&&t.$toolbar.syncUpdate({collectColumn:e,$table:t}),t.recalculate()}))},cacheRowMap:function(e){var t=this,r=this.treeConfig,i=this.treeOpts,l=this.tableFullData,o=this.fullDataRowMap,a=this.fullAllDataRowMap,c=this.tableFullTreeData,h=this.fullDataRowIdData,d=this.fullAllDataRowIdData,f=(0,s.getRowkey)(this),v=r&&i.lazy,g=function(l,c,g,p,m,x){var w=(0,s.getRowid)(t,l),b=r&&p?(0,s.toTreePathSeq)(p):c+1,C=x?x.length-1:0;(0,u.eqEmptyValue)(w)&&(w=W(),n.default.set(l,f,w)),v&&l[i.hasChild]&&n.default.isUndefined(l[i.children])&&(l[i.children]=null);var R={row:l,rowid:w,seq:b,index:r&&m?-1:c,_index:-1,$index:-1,items:g,parent:m,level:C};e&&(h[w]=R,o.set(l,R)),d[w]=R,a.set(l,R)};e&&(h=this.fullDataRowIdData={},o.clear()),d=this.fullAllDataRowIdData={},a.clear(),r?n.default.eachTree(c,g,i):l.forEach(g)},loadTreeChildren:function(e,t){var r=this,i=this.keepSource,l=this.tableSourceData,o=this.treeOpts,a=this.fullDataRowIdData,u=this.fullDataRowMap,c=this.fullAllDataRowMap,h=this.fullAllDataRowIdData,d=o.transform,f=o.children,v=o.mapChildren,g=h[(0,s.getRowid)(this,e)],p=g?g.level:0;return this.createData(t).then((function(t){if(i){var g=(0,s.getRowid)(r,e),m=n.default.findTree(l,(function(e){return g===(0,s.getRowid)(r,e)}),o);m&&(m.item[f]=n.default.clone(t,!0))}return n.default.eachTree(t,(function(e,t,i,n,l,o){var d=(0,s.getRowid)(r,e),f={row:e,rowid:d,seq:-1,index:t,_index:-1,$index:-1,items:i,parent:l,level:p+o.length};a[d]=f,u.set(e,f),h[d]=f,c.set(e,f)}),o),e[f]=t,d&&(e[v]=t),r.updateAfterDataIndex(),t}))},cacheColumnMap:function(){var e,t,r,i=this.tableFullColumn,l=this.collectColumn,o=this.fullColumnMap,a=this.showOverflow,s=this.fullColumnIdData={},u=this.fullColumnFieldData={},c=l.some(k),h=!!a,f=function(i,n,l,a,c){var f=i.id,v=i.field,g=i.fixed,p=i.type,m=i.treeNode,x={column:i,colid:f,index:n,items:l,parent:c};v&&(u[v]=x),!r&&g&&(r=g),m?t||(t=i):"expand"===p&&(e||(e=i)),h&&!1===i.showOverflow&&(h=!1),s[f]&&(0,d.errLog)("vxe.error.colRepet",["colId",f]),s[f]=x,o.set(i,x)};o.clear(),c?n.default.eachTree(l,(function(e,t,r,i,n,l){e.level=l.length,f(e,t,r,i,n)})):i.forEach(f),this.isGroup=c,this.treeNodeColumn=t,this.expandColumn=e,this.isAllOverflow=h},getRowNode:function(e){if(e){var t=this.fullAllDataRowIdData,r=e.getAttribute("rowid"),i=t[r];if(i)return{rowid:i.rowid,item:i.row,index:i.index,items:i.items,parent:i.parent}}return null},getColumnNode:function(e){if(e){var t=this.fullColumnIdData,r=e.getAttribute("colid"),i=t[r];if(i)return{colid:i.colid,item:i.column,index:i.index,items:i.items,parent:i.parent}}return null},getRowSeq:function(e){var t=this.fullDataRowIdData;if(e){var r=(0,s.getRowid)(this,e),i=t[r];if(i)return i.seq}return-1},getRowIndex:function(e){return this.fullDataRowMap.has(e)?this.fullDataRowMap.get(e).index:-1},getVTRowIndex:function(e){return this.afterFullData.indexOf(e)},_getRowIndex:function(e){return this.getVTRowIndex(e)},getVMRowIndex:function(e){return this.tableData.indexOf(e)},$getRowIndex:function(e){return this.getVMRowIndex(e)},getColumnIndex:function(e){return this.fullColumnMap.has(e)?this.fullColumnMap.get(e).index:-1},getVTColumnIndex:function(e){return this.visibleColumn.indexOf(e)},_getColumnIndex:function(e){return this.getVTColumnIndex(e)},getVMColumnIndex:function(e){return this.tableColumn.indexOf(e)},$getColumnIndex:function(e){return this.getVMColumnIndex(e)},isSeqColumn:function(e){return e&&"seq"===e.type},defineField:function(e){var t=this.radioOpts,r=this.checkboxOpts,i=this.treeConfig,l=this.treeOpts,o=this.expandOpts,a=(0,s.getRowkey)(this);this.tableFullColumn.forEach((function(t){var r=t.field,i=t.editRender;if(r&&!n.default.has(e,r)){var l=null;if(i){var o=i.defaultValue;n.default.isFunction(o)?l=o({column:t}):n.default.isUndefined(o)||(l=o)}n.default.set(e,r,l)}}));var c=[t.labelField,r.checkField,r.labelField,o.labelField];return c.forEach((function(t){t&&(0,u.eqEmptyValue)(n.default.get(e,t))&&n.default.set(e,t,null)})),i&&l.lazy&&n.default.isUndefined(e[l.children])&&(e[l.children]=null),(0,u.eqEmptyValue)(n.default.get(e,a))&&n.default.set(e,a,W()),e},createData:function(e){var t=this,r=this.treeConfig,i=this.treeOpts,l=function(e){return t.defineField(Object.assign({},e))},o=r?n.default.mapTree(e,l,i):e.map(l);return this.$nextTick().then((function(){return o}))},createRow:function(e){var t=this,r=n.default.isArray(e);return r||(e=[e]),this.$nextTick().then((function(){return t.createData(e).then((function(e){return r?e:e[0]}))}))},revertData:function(e,t){var r=this,i=this.keepSource,l=this.tableSourceData,o=this.treeConfig;if(!i)return this.$nextTick();var a=e;return e?n.default.isArray(e)||(a=[e]):a=n.default.toArray(this.getUpdateRecords()),a.length&&a.forEach((function(e){if(!r.isInsertByRow(e)){var i=r.getRowIndex(e);o&&-1===i&&(0,d.errLog)("vxe.error.noTree",["revertData"]);var a=l[i];a&&e&&(t?n.default.set(e,t,n.default.clone(n.default.get(a,t),!0)):n.default.destructuring(e,n.default.clone(a,!0)))}})),e?this.$nextTick():this.reloadData(l)},clearData:function(e,t){var r=this.tableFullData,i=this.visibleColumn;return arguments.length?e&&!n.default.isArray(e)&&(e=[e]):e=r,t?e.forEach((function(e){return n.default.set(e,t,null)})):e.forEach((function(e){i.forEach((function(t){t.field&&E(e,t,null)}))})),this.$nextTick()},isInsertByRow:function(e){return this.editStore.insertList.indexOf(e)>-1},removeInsertRow:function(){return this.remove(this.editStore.insertList)},isUpdateByRow:function(e,t){var r=this,i=this.visibleColumn,l=this.keepSource,o=this.treeConfig,a=this.treeOpts,u=this.tableSourceData,c=this.fullDataRowIdData;if(l){var h,d,f=(0,s.getRowid)(this,e);if(!c[f])return!1;if(o){var v=a.children,g=n.default.findTree(u,(function(e){return f===(0,s.getRowid)(r,e)}),a);e=Object.assign({},e,S({},v,null)),g&&(h=Object.assign({},g.item,S({},v,null)))}else{var p=c[f].index;h=u[p]}if(h){if(arguments.length>1)return!B(h,e,t);for(var m=0,x=i.length;m<x;m++)if(d=i[m].field,d&&!B(h,e,d))return!0}}return!1},getColumns:function(e){var t=this.visibleColumn;return n.default.isUndefined(e)?t.slice(0):t[e]},getColumnById:function(e){var t=this.fullColumnIdData;return t[e]?t[e].column:null},getColumnByField:function(e){var t=this.fullColumnFieldData;return t[e]?t[e].column:null},getTableColumn:function(){return{collectColumn:this.collectColumn.slice(0),fullColumn:this.tableFullColumn.slice(0),visibleColumn:this.visibleColumn.slice(0),tableColumn:this.tableColumn.slice(0)}},getData:function(e){var t=this.data||this.tableSynchData;return n.default.isUndefined(e)?t.slice(0):t[e]},getCheckboxRecords:function(e){var t=this,r=this.tableFullData,i=this.afterFullData,l=this.treeConfig,o=this.treeOpts,a=this.checkboxOpts,s=this.tableFullTreeData,u=this.afterTreeFullData,c=o.transform,h=o.children,d=o.mapChildren,f=a.checkField,v=e?c?s:r:c?u:i,g=[];if(f)g=l?n.default.filterTree(v,(function(e){return n.default.get(e,f)}),{children:c?d:h}):v.filter((function(e){return n.default.get(e,f)}));else{var p=this.selection;g=l?n.default.filterTree(v,(function(e){return t.findRowIndexOf(p,e)>-1}),{children:c?d:h}):v.filter((function(e){return t.findRowIndexOf(p,e)>-1}))}return g},handleVirtualTreeToList:function(){var e=this.treeOpts,t=this.treeConfig,r=this.treeExpandeds,i=this.afterTreeFullData,l=this.afterFullData;if(t&&e.transform){var o=[],a=new Map;return n.default.eachTree(i,(function(e,t,i,n,l){(!l||a.has(l)&&r.indexOf(l)>-1)&&(a.set(e,1),o.push(e))}),{children:e.mapChildren}),this.afterFullData=o,this.updateScrollYStatus(o),o}return l},updateAfterFullData:function(){var e=this,t=this.tableFullColumn,r=this.tableFullData,i=this.filterOpts,l=this.sortOpts,o=this.treeConfig,s=this.treeOpts,c=this.tableFullTreeData,h=i.remote,d=i.filterMethod,f=l.remote,v=l.sortMethod,g=l.multiple,p=l.chronological,m=s.transform,x=[],w=[],b=[],C=[];if(t.forEach((function(e){var t=e.field,r=e.sortable,i=e.order,n=e.filters;if(!h&&n&&n.length){var l=[],o=[];n.forEach((function(e){e.checked&&(o.push(e),l.push(e.value))})),o.length&&b.push({column:e,valueList:l,itemList:o})}!f&&r&&i&&C.push({column:e,field:t,property:t,order:i,sortTime:e.sortTime})})),g&&p&&C.length>1&&(C=n.default.orderBy(C,"sortTime")),b.length){var R=function(t){return b.every((function(r){var i=r.column,l=r.valueList,o=r.itemList;if(l.length&&!h){var s=i.filterMethod,c=i.filterRender,f=i.field,v=c?a.default.renderer.get(c.name):null,g=v&&v.renderFilter?v.filterMethod:null,p=v?v.defaultFilterMethod:null,m=u.default.getCellValue(t,i);return s?o.some((function(r){return s({value:r.value,option:r,cellValue:m,row:t,column:i,$table:e})})):g?o.some((function(r){return g({value:r.value,option:r,cellValue:m,row:t,column:i,$table:e})})):d?d({options:o,values:l,cellValue:m,row:t,column:i}):p?o.some((function(r){return p({value:r.value,option:r,cellValue:m,row:t,column:i,$table:e})})):l.indexOf(n.default.get(t,f))>-1}return!0}))};o&&m?(w=n.default.searchTree(c,R,T(T({},s),{},{original:!0})),x=w):(x=o?c.filter(R):r.filter(R),w=x)}else o&&m?(w=n.default.searchTree(c,(function(){return!0}),T(T({},s),{},{original:!0})),x=w):(x=o?c.slice(0):r.slice(0),w=x);var y=C[0];if(!f&&y)if(o&&m){if(v){var S=v({data:w,sortList:C,$table:this});w=n.default.isArray(S)?S:w}else w=n.default.orderBy(w,C.map((function(t){var r=t.column,i=t.order;return[Z(e,r),i]})));x=w}else{if(v){var E=v({data:x,column:y.column,property:y.field,field:y.field,order:y.order,sortList:C,$table:this});x=n.default.isArray(E)?E:x}else{var k;if(g)x=n.default.orderBy(x,C.map((function(t){var r=t.column,i=t.order;return[Z(e,r),i]})));else n.default.isArray(y.sortBy)&&(k=y.sortBy.map((function(e){return[e,y.order]}))),x=n.default.orderBy(x,k||[y].map((function(t){var r=t.column,i=t.order;return[Z(e,r),i]})))}w=x}this.afterFullData=x,this.afterTreeFullData=w,this.updateAfterDataIndex()},updateAfterDataIndex:function(){var e=this,t=this.treeConfig,r=this.afterFullData,i=this.fullDataRowIdData,l=this.fullAllDataRowIdData,o=this.afterTreeFullData,a=this.treeOpts;t?n.default.eachTree(o,(function(t,r,n,o){var a=(0,s.getRowid)(e,t),u=l[a],c=o.map((function(e,t){return t%2===0?Number(e)+1:"."})).join("");if(u)u.seq=c,u._index=r;else{var h={row:t,rowid:a,seq:c,index:-1,$index:-1,_index:r,items:[],parent:null,level:0};l[a]=h,i[a]=h}}),{children:a.transform?a.mapChildren:a.children}):r.forEach((function(t,r){var n=(0,s.getRowid)(e,t),o=l[n],a=r+1;if(o)o.seq=a,o._index=r;else{var u={row:t,rowid:n,seq:a,index:-1,$index:-1,_index:r,items:[],parent:null,level:0};l[n]=u,i[n]=u}}))},getParentRow:function(e){var t,r=this.treeConfig,i=this.fullDataRowIdData;if(e&&r&&(t=n.default.isString(e)?e:(0,s.getRowid)(this,e),t))return i[t]?i[t].parent:null;return null},getRowById:function(e){var t=this.fullDataRowIdData,r=n.default.eqNull(e)?"":encodeURIComponent(e);return t[r]?t[r].row:null},getRowid:function(e){var t=this.fullAllDataRowMap;return t.has(e)?t.get(e).rowid:null},getTableData:function(){var e=this.tableFullData,t=this.afterFullData,r=this.tableData,i=this.footerTableData;return{fullData:e.slice(0),visibleData:t.slice(0),tableData:r.slice(0),footerData:i.slice(0)}},handleLoadDefaults:function(){var e=this;this.checkboxConfig&&this.handleDefaultSelectionChecked(),this.radioConfig&&this.handleDefaultRadioChecked(),this.expandConfig&&this.handleDefaultRowExpand(),this.treeConfig&&this.handleDefaultTreeExpand(),this.mergeCells&&this.handleDefaultMergeCells(),this.mergeFooterItems&&this.handleDefaultMergeFooterItems(),this.$nextTick((function(){return setTimeout(e.recalculate)}))},handleInitDefaults:function(){var e=this.sortConfig;e&&this.handleDefaultSort()},hideColumn:function(e){var t=(0,s.handleFieldOrColumn)(this,e);return t&&(t.visible=!1),this.handleCustom()},showColumn:function(e){var t=(0,s.handleFieldOrColumn)(this,e);return t&&(t.visible=!0),this.handleCustom()},resetColumn:function(e){var t=this.customOpts,r=t.checkMethod,i=Object.assign({visible:!0,resizable:!0===e},e);return this.tableFullColumn.forEach((function(e){i.resizable&&(e.resizeWidth=0),r&&!r({column:e})||(e.visible=e.defaultVisible)})),i.resizable&&this.saveCustomResizable(!0),this.handleCustom()},handleCustom:function(){return this.saveCustomVisible(),this.analyColumnWidth(),this.refreshColumn()},restoreCustomStorage:function(){var e=this.id,t=this.collectColumn,r=this.customConfig,i=this.customOpts,l=i.storage,o=!0===i.storage,a=o||l&&l.resizable,s=o||l&&l.visible;if(r&&(a||s)){var u={};if(!e)return void(0,d.errLog)("vxe.error.reqProp",["id"]);if(a){var c=N(V)[e];c&&n.default.each(c,(function(e,t){u[t]={field:t,resizeWidth:e}}))}if(s){var h=N(H)[e];if(h){var f=h.split("|"),v=f[0]?f[0].split(","):[],g=f[1]?f[1].split(","):[];v.forEach((function(e){u[e]?u[e].visible=!1:u[e]={field:e,visible:!1}})),g.forEach((function(e){u[e]?u[e].visible=!0:u[e]={field:e,visible:!0}}))}}var p={};n.default.eachTree(t,(function(e){var t=e.getKey();t&&(p[t]=e)})),n.default.each(u,(function(e,t){var r=e.visible,i=e.resizeWidth,l=p[t];l&&(n.default.isNumber(i)&&(l.resizeWidth=i),n.default.isBoolean(r)&&(l.visible=r))}))}},saveCustomVisible:function(){var e=this.id,t=this.collectColumn,r=this.customConfig,i=this.customOpts,l=i.checkMethod,o=i.storage,a=!0===i.storage,s=a||o&&o.visible;if(r&&s){var u=N(H),c=[],h=[];if(!e)return void(0,d.errLog)("vxe.error.reqProp",["id"]);n.default.eachTree(t,(function(e){if(!l||l({column:e}))if(!e.visible&&e.defaultVisible){var t=e.getKey();t&&c.push(t)}else if(e.visible&&!e.defaultVisible){var r=e.getKey();r&&h.push(r)}})),u[e]=[c.join(",")].concat(h.length?[h.join(",")]:[]).join("|")||void 0,localStorage.setItem(H,n.default.toJSONString(u))}},saveCustomResizable:function(e){var t=this.id,r=this.collectColumn,i=this.customConfig,l=this.customOpts,o=l.storage,a=!0===l.storage,s=a||o&&o.resizable;if(i&&s){var u,c=N(V);if(!t)return void(0,d.errLog)("vxe.error.reqProp",["id"]);e||(u=n.default.isPlainObject(c[t])?c[t]:{},n.default.eachTree(r,(function(e){if(e.resizeWidth){var t=e.getKey();t&&(u[t]=e.renderWidth)}}))),c[t]=n.default.isEmpty(u)?void 0:u,localStorage.setItem(V,n.default.toJSONString(c))}},refreshColumn:function(){var e=this;return this.parseColumns().then((function(){return e.refreshScroll()})).then((function(){return e.recalculate()}))},parseColumns:function(){var e=this,t=[],r=[],i=[],l=this.collectColumn,o=this.tableFullColumn,a=this.isGroup,s=this.columnStore,u=this.sXOpts,c=this.scrollXStore;if(a){var h=[],f=[],v=[];n.default.eachTree(l,(function(e,l,o,a,s){var u=k(e);s&&s.fixed&&(e.fixed=s.fixed),s&&e.fixed!==s.fixed&&(0,d.errLog)("vxe.error.groupFixed"),u?e.visible=!!n.default.findTree(e.children,(function(e){return k(e)?null:e.visible})):e.visible&&("left"===e.fixed?t.push(e):"right"===e.fixed?i.push(e):r.push(e))})),l.forEach((function(e){e.visible&&("left"===e.fixed?h.push(e):"right"===e.fixed?v.push(e):f.push(e))})),this.tableGroupColumn=h.concat(f).concat(v)}else o.forEach((function(e){e.visible&&("left"===e.fixed?t.push(e):"right"===e.fixed?i.push(e):r.push(e))}));var g=t.concat(r).concat(i),p=u.enabled&&u.gt>-1&&(0===u.gt||u.gt<=o.length);if(this.hasFixedColumn=t.length>0||i.length>0,Object.assign(s,{leftList:t,centerList:r,rightList:i}),p){0;var m=_(this),x=m.visibleSize;c.startIndex=0,c.endIndex=x,c.visibleSize=x}return g.length===this.visibleColumn.length&&this.visibleColumn.every((function(e,t){return e===g[t]}))||(this.clearMergeCells(),this.clearMergeFooterItems()),this.scrollXLoad=p,this.visibleColumn=g,this.handleTableColumn(),this.updateFooter().then((function(){return e.recalculate()})).then((function(){return e.updateCellAreas(),e.recalculate()}))},analyColumnWidth:function(){var e=this.columnOpts,t=e.width,r=e.minWidth,i=[],n=[],l=[],o=[],a=[],s=[];this.tableFullColumn.forEach((function(e){t&&!e.width&&(e.width=t),r&&!e.minWidth&&(e.minWidth=r),e.visible&&(e.resizeWidth?i.push(e):c.default.isPx(e.width)?n.push(e):c.default.isScale(e.width)?o.push(e):c.default.isPx(e.minWidth)?l.push(e):c.default.isScale(e.minWidth)?a.push(e):s.push(e))})),Object.assign(this.columnStore,{resizeList:i,pxList:n,pxMinList:l,scaleList:o,scaleMinList:a,autoList:s})},refreshScroll:function(){var e=this,t=this.lastScrollLeft,r=this.lastScrollTop,i=this.$refs,n=i.tableBody,l=i.leftBody,o=i.rightBody,a=i.tableFooter,u=n?n.$el:null,h=l?l.$el:null,d=o?o.$el:null,f=a?a.$el:null;return new Promise((function(i){if(t||r)return(0,s.restoreScrollLocation)(e,t,r).then((function(){setTimeout(i,30)}));(0,c.setScrollTop)(u,r),(0,c.setScrollTop)(h,r),(0,c.setScrollTop)(d,r),(0,c.setScrollLeft)(f,t),setTimeout(i,30)}))},recalculate:function(e){var t=this,r=this.$refs,i=r.tableBody,n=r.tableHeader,l=r.tableFooter,o=i?i.$el:null,a=n?n.$el:null,s=l?l.$el:null;return o&&(this.autoCellWidth(a,o,s),!0===e)?this.computeScrollLoad().then((function(){return t.autoCellWidth(a,o,s),t.computeScrollLoad()})):this.computeScrollLoad()},autoCellWidth:function(e,t,r){var i=0,n=40,l=t.clientWidth-1,o=l,a=o/100,s=this.fit,u=this.columnStore,c=u.resizeList,h=u.pxMinList,d=u.pxList,f=u.scaleList,v=u.scaleMinList,g=u.autoList;if(h.forEach((function(e){var t=parseInt(e.minWidth);i+=t,e.renderWidth=t})),v.forEach((function(e){var t=Math.floor(parseInt(e.minWidth)*a);i+=t,e.renderWidth=t})),f.forEach((function(e){var t=Math.floor(parseInt(e.width)*a);i+=t,e.renderWidth=t})),d.forEach((function(e){var t=parseInt(e.width);i+=t,e.renderWidth=t})),c.forEach((function(e){var t=parseInt(e.resizeWidth);i+=t,e.renderWidth=t})),o-=i,a=o>0?Math.floor(o/(v.length+h.length+g.length)):0,s?o>0&&v.concat(h).forEach((function(e){i+=a,e.renderWidth+=a})):a=n,g.forEach((function(e){var t=Math.max(a,n);e.renderWidth=t,i+=t})),s){var p=f.concat(v).concat(h).concat(g),m=p.length-1;if(m>0){var x=l-i;if(x>0){while(x>0&&m>=0)x--,p[m--].renderWidth++;i=l}}}var w=t.offsetHeight,b=t.scrollHeight>t.clientHeight;if(this.scrollbarWidth=b?t.offsetWidth-t.clientWidth:0,this.overflowY=b,this.tableWidth=i,this.tableHeight=w,e?(this.headerHeight=e.clientHeight,this.$nextTick((function(){e&&t&&e.scrollLeft!==t.scrollLeft&&(e.scrollLeft=t.scrollLeft)}))):this.headerHeight=0,r){var C=r.offsetHeight;this.scrollbarHeight=Math.max(C-r.clientHeight,0),this.overflowX=i>r.clientWidth,this.footerHeight=C}else this.footerHeight=0,this.scrollbarHeight=Math.max(w-t.clientHeight,0),this.overflowX=i>l;this.updateHeight(),this.parentHeight=Math.max(this.headerHeight+this.footerHeight+20,this.getParentHeight()),this.overflowX&&this.checkScrolling()},updateHeight:function(){this.customHeight=I(this,"height"),this.customMaxHeight=I(this,"maxHeight")},updateStyle:function(){var e=this,t=this.$refs,r=this.isGroup,i=this.fullColumnIdData,l=this.tableColumn,o=this.customHeight,a=this.customMaxHeight,s=this.border,u=this.headerHeight,h=this.showFooter,d=this.showOverflow,f=this.showHeaderOverflow,v=this.showFooterOverflow,g=this.footerHeight,p=this.tableHeight,m=this.tableWidth,x=this.scrollbarHeight,w=this.scrollbarWidth,b=this.scrollXLoad,C=this.scrollYLoad,R=this.cellOffsetWidth,y=this.columnStore,T=this.elemStore,S=this.editStore,E=this.currentRow,k=this.mouseConfig,O=this.keyboardConfig,I=this.keyboardOpts,D=this.spanMethod,$=this.mergeList,L=this.mergeFooterList,A=this.footerSpanMethod,F=this.isAllOverflow,z=this.visibleColumn,V=["main","left","right"],H=t.emptyPlaceholder,W=T["main-body-wrapper"];return H&&(H.style.top="".concat(u,"px"),H.style.height=W?"".concat(W.offsetHeight-x,"px"):""),o>0&&h&&(o+=x),V.forEach((function(S,E){var k=E>0?S:"",V=["header","body","footer"],H=y["".concat(k,"List")],W=t["".concat(k,"Container")];V.forEach((function(t){var E=T["".concat(S,"-").concat(t,"-wrapper")],V=T["".concat(S,"-").concat(t,"-table")];if("header"===t){var B=m,q=l;r?q=z:k&&(b||f)&&(q=H),B=q.reduce((function(e,t){return e+t.renderWidth}),0),V&&(V.style.width=B?"".concat(B+w,"px"):"",c.browse.msie&&n.default.arrayEach(V.querySelectorAll(".vxe-resizable"),(function(e){e.style.height="".concat(e.parentNode.offsetHeight,"px")})));var N=T["".concat(S,"-").concat(t,"-repair")];N&&(N.style.width="".concat(m,"px"));var P=T["".concat(S,"-").concat(t,"-list")];r&&P&&n.default.arrayEach(P.querySelectorAll(".col--group"),(function(t){var r=e.getColumnNode(t);if(r){var i=r.item,l=i.showHeaderOverflow,o=n.default.isBoolean(l)?l:f,a="ellipsis"===o,u="title"===o,c=!0===o||"tooltip"===o,h=u||c||a,d=0,v=0;h&&n.default.eachTree(i.children,(function(e){e.children&&i.children.length||v++,d+=e.renderWidth})),t.style.width=h?"".concat(d-v-(s?2:0),"px"):""}}))}else if("body"===t){var j=T["".concat(S,"-").concat(t,"-emptyBlock")];if(M(E)&&(a?E.style.maxHeight="".concat(k?a-u-(h?0:x):a-u,"px"):E.style.height=o>0?"".concat(k?(o>0?o-u-g:p)-(h?0:x):o-u-g,"px"):""),W){var _="right"===k,Y=y["".concat(k,"List")];M(E)&&(E.style.top="".concat(u,"px")),W.style.height="".concat((o>0?o-u-g:p)+u+g-x*(h?2:1),"px"),W.style.width="".concat(Y.reduce((function(e,t){return e+t.renderWidth}),_?w:0),"px")}var X=m,U=l;k&&(U=b||C||(d?F:d)?$.length||D||O&&I.isMerge?z:H:z),X=U.reduce((function(e,t){return e+t.renderWidth}),0),V&&(V.style.width=X?"".concat(X,"px"):"",V.style.paddingRight=w&&k&&(c.browse["-moz"]||c.browse.safari)?"".concat(w,"px"):""),j&&(j.style.width=X?"".concat(X,"px"):"")}else if("footer"===t){var K=m,G=l;k&&(G=b||v?L.length&&A?z:H:z),K=G.reduce((function(e,t){return e+t.renderWidth}),0),M(E)&&(W&&(E.style.top="".concat(o>0?o-g:p+u,"px")),E.style.marginTop="".concat(-x,"px")),V&&(V.style.width=K?"".concat(K+w,"px"):"")}var Z=T["".concat(S,"-").concat(t,"-colgroup")];Z&&n.default.arrayEach(Z.children,(function(r){var l=r.getAttribute("name");if("col_gutter"===l&&(r.style.width="".concat(w,"px")),i[l]){var o,a=i[l].column,s=a.showHeaderOverflow,u=a.showFooterOverflow,c=a.showOverflow;r.style.width="".concat(a.renderWidth,"px"),o="header"===t?n.default.isUndefined(s)||n.default.isNull(s)?f:s:"footer"===t?n.default.isUndefined(u)||n.default.isNull(u)?v:u:n.default.isUndefined(c)||n.default.isNull(c)?d:c;var h="ellipsis"===o,g="title"===o,p=!0===o||"tooltip"===o,m=g||p||h,x=T["".concat(S,"-").concat(t,"-list")];"header"===t||"footer"===t?b&&!m&&(m=!0):!b&&!C||m||(m=!0),x&&n.default.arrayEach(x.querySelectorAll(".".concat(a.id)),(function(t){var r=parseInt(t.getAttribute("colspan")||1),i=t.querySelector(".vxe-cell"),n=a.renderWidth;if(i){if(r>1)for(var l=e.getColumnIndex(a),o=1;o<r;o++){var s=e.getColumns(l+o);s&&(n+=s.renderWidth)}i.style.width=m?"".concat(n-R*r,"px"):""}}))}}))}))})),E&&this.setCurrentRow(E),k&&k.selected&&S.selected.row&&S.selected.column&&this.addColSdCls(),this.$nextTick()},checkScrolling:function(){var e=this.$refs,t=e.tableBody,r=e.leftContainer,i=e.rightContainer,n=t?t.$el:null;n&&(r&&c.default[n.scrollLeft>0?"addClass":"removeClass"](r,"scrolling--middle"),i&&c.default[n.clientWidth<n.scrollWidth-Math.ceil(n.scrollLeft)?"addClass":"removeClass"](i,"scrolling--middle"))},preventEvent:function(e,t,r,i,n){var l,o=this,s=a.default.interceptor.get(t);return s.some((function(t){return!1===t(Object.assign({$grid:o.$xegrid,$table:o,$event:e},r))}))||i&&(l=i()),n&&n(),l},handleGlobalMousedownEvent:function(e){var t=this,r=this.$el,i=this.$refs,n=this.$xegrid,l=this.$toolbar,o=this.mouseConfig,a=this.editStore,s=this.ctxMenuStore,u=this.editOpts,c=this.filterStore,h=this.getRowNode,d=a.actived,f=i.ctxWrapper,v=i.filterWrapper,g=i.validTip;if(v&&(A(e,r,"vxe-cell--filter").flag||A(e,v.$el).flag||A(e,document.body,"vxe-table--ignore-clear").flag||this.preventEvent(e,"event.clearFilter",c.args,this.closeFilter)),d.row){if(!1!==u.autoClear){var p=d.args.cell;p&&A(e,p).flag||g&&A(e,g.$el).flag||(!this.lastCallTime||this.lastCallTime+50<Date.now())&&(A(e,document.body,"vxe-table--ignore-clear").flag||this.preventEvent(e,"event.clearActived",d.args,(function(){var i;if("row"===u.mode){var n=A(e,r,"vxe-body--row");i=!!n.flag&&h(n.targetElem).item!==d.args.row}else i=!A(e,r,"col--edit").flag;if(i||(i=A(e,r,"vxe-header--row").flag),i||(i=A(e,r,"vxe-footer--row").flag),!i&&t.height&&!t.overflowY){var l=e.target;D(l,"vxe-table--body-wrapper")&&(i=e.offsetY<l.clientHeight)}!i&&A(e,r).flag||setTimeout((function(){return t.clearEdit(e)}))})))}}else o&&(A(e,r).flag||n&&A(e,n.$el).flag||f&&A(e,f.$el).flag||l&&A(e,l.$el).flag||(this.clearSelected(),A(e,document.body,"vxe-table--ignore-areas-clear").flag||this.preventEvent(e,"event.clearAreas",{},(function(){t.clearCellAreas(),t.clearCopyCellArea()}))));s.visible&&f&&!A(e,f.$el).flag&&this.closeMenu(),this.isActivated=A(e,(n||this).$el).flag},handleGlobalBlurEvent:function(){this.closeFilter(),this.closeMenu()},handleGlobalMousewheelEvent:function(){this.closeTooltip(),this.closeMenu()},keydownEvent:function(e){var t=this,r=this.filterStore,i=this.ctxMenuStore,n=this.editStore,l=this.keyboardConfig,o=this.mouseConfig,a=this.mouseOpts,s=this.keyboardOpts,u=n.actived,c=e.keyCode,h=27===c;h&&this.preventEvent(e,"event.keydown",null,(function(){if(t.emitEvent("keydown-start",{},e),l&&o&&a.area&&t.handleKeyboardEvent)t.handleKeyboardEvent(e);else if((u.row||r.visible||i.visible)&&(e.stopPropagation(),t.closeFilter(),t.closeMenu(),l&&s.isEsc&&u.row)){var n=u.args;t.clearEdit(e),o&&a.selected&&t.$nextTick((function(){return t.handleSelected(n,e)}))}t.emitEvent("keydown",{},e),t.emitEvent("keydown-end",{},e)}))},handleGlobalKeydownEvent:function(e){var t=this;this.isActivated&&this.preventEvent(e,"event.keydown",null,(function(){var r,i=t.filterStore,l=t.isCtxMenu,o=t.ctxMenuStore,a=t.editStore,s=t.editOpts,c=t.editConfig,h=t.mouseConfig,d=t.mouseOpts,f=t.keyboardConfig,v=t.keyboardOpts,g=t.treeConfig,p=t.treeOpts,m=t.highlightCurrentRow,x=t.currentRow,w=t.bodyCtxMenu,b=t.rowOpts,C=a.selected,R=a.actived,y=e.keyCode,S=8===y,O=9===y,I=13===y,D=27===y,$=32===y,L=37===y,A=38===y,M=39===y,F=40===y,z=46===y,V=113===y,H=93===y,W=e.metaKey,B=e.ctrlKey,q=e.shiftKey,N=e.altKey,P=L||A||M||F,j=l&&o.visible&&(I||$||P),_=(0,u.isEnableConf)(c)&&R.column&&R.row;if(i.visible)D&&t.closeFilter();else{if(j)e.preventDefault(),o.showChild&&k(o.selected)?t.moveCtxMenu(e,y,o,"selectChild",37,!1,o.selected.children):t.moveCtxMenu(e,y,o,"selected",39,!0,t.ctxMenuList);else if(f&&h&&d.area&&t.handleKeyboardEvent)t.handleKeyboardEvent(e);else if(f&&$&&v.isChecked&&C.row&&C.column&&("checkbox"===C.column.type||"radio"===C.column.type))e.preventDefault(),"checkbox"===C.column.type?t.handleToggleCheckRowEvent(e,C.args):t.triggerRadioRowEvent(e,C.args);else if(V&&(0,u.isEnableConf)(c))_||C.row&&C.column&&(e.stopPropagation(),e.preventDefault(),t.handleActived(C.args,e));else if(H)t._keyCtx=C.row&&C.column&&w.length,clearTimeout(t.keyCtxTimeout),t.keyCtxTimeout=setTimeout((function(){t._keyCtx=!1}),1e3);else if(I&&!N&&f&&v.isEnter&&(C.row||R.row||g&&(b.isCurrent||m)&&x)){if(B)R.row&&(r=R.args,t.clearEdit(e),h&&d.selected&&t.$nextTick((function(){return t.handleSelected(r,e)})));else if(C.row||R.row){var Y=C.row?C.args:R.args;q?v.enterToTab?t.moveTabSelected(Y,q,e):t.moveSelected(Y,L,!0,M,!1,e):v.enterToTab?t.moveTabSelected(Y,q,e):t.moveSelected(Y,L,!1,M,!0,e)}else if(g&&(b.isCurrent||m)&&x){var X=x[p.children];if(X&&X.length){e.preventDefault();var U=X[0];r={$table:t,row:U},t.setTreeExpand(x,!0).then((function(){return t.scrollToRow(U)})).then((function(){return t.triggerCurrentRowEvent(e,r)}))}}}else if(P&&f&&v.isArrow)_||(C.row&&C.column?t.moveSelected(C.args,L,A,M,F,e):(A||F)&&(b.isCurrent||m)&&t.moveCurrentRow(A,F,e));else if(O&&f&&v.isTab)C.row||C.column?t.moveTabSelected(C.args,q,e):(R.row||R.column)&&t.moveTabSelected(R.args,q,e);else if(f&&(z||(g&&(b.isCurrent||m)&&x?S&&v.isArrow:S))){if(!_){var K=v.delMethod,G=v.backMethod;if(v.isDel&&(C.row||C.column))K?K({row:C.row,rowIndex:t.getRowIndex(C.row),column:C.column,columnIndex:t.getColumnIndex(C.column),$table:t}):E(C.row,C.column,null),S?G?G({row:C.row,rowIndex:t.getRowIndex(C.row),column:C.column,columnIndex:t.getColumnIndex(C.column),$table:t}):t.handleActived(C.args,e):z&&t.updateFooter();else if(S&&v.isArrow&&g&&(b.isCurrent||m)&&x){var Z=n.default.findTree(t.afterFullData,(function(e){return e===x}),p),J=Z.parent;J&&(e.preventDefault(),r={$table:t,row:J},t.setTreeExpand(J,!1).then((function(){return t.scrollToRow(J)})).then((function(){return t.triggerCurrentRowEvent(e,r)})))}}}else if(f&&v.isEdit&&!B&&!W&&($||y>=48&&y<=57||y>=65&&y<=90||y>=96&&y<=111||y>=186&&y<=192||y>=219&&y<=222)){var Q=v.editMethod;if(C.column&&C.row&&(0,u.isEnableConf)(C.column.editRender)){var ee=s.beforeEditMethod||s.activeMethod;ee&&!ee(T(T({},C.args),{},{$table:t}))||(Q?Q({row:C.row,rowIndex:t.getRowIndex(C.row),column:C.column,columnIndex:t.getColumnIndex(C.column),$table:t}):(E(C.row,C.column,null),t.handleActived(C.args,e)))}}t.emitEvent("keydown",{},e)}}))},handleGlobalPasteEvent:function(e){var t=this.isActivated,r=this.keyboardConfig,i=this.keyboardOpts,n=this.mouseConfig,l=this.mouseOpts,o=this.editStore,a=this.filterStore,s=o.actived;t&&!a.visible&&(s.row||s.column||r&&i.isClip&&n&&l.area&&this.handlePasteCellAreaEvent&&this.handlePasteCellAreaEvent(e),this.emitEvent("paste",{},e))},handleGlobalCopyEvent:function(e){var t=this.isActivated,r=this.keyboardConfig,i=this.keyboardOpts,n=this.mouseConfig,l=this.mouseOpts,o=this.editStore,a=this.filterStore,s=o.actived;t&&!a.visible&&(s.row||s.column||r&&i.isClip&&n&&l.area&&this.handleCopyCellAreaEvent&&this.handleCopyCellAreaEvent(e),this.emitEvent("copy",{},e))},handleGlobalCutEvent:function(e){var t=this.isActivated,r=this.keyboardConfig,i=this.keyboardOpts,n=this.mouseConfig,l=this.mouseOpts,o=this.editStore,a=this.filterStore,s=o.actived;t&&!a.visible&&(s.row||s.column||r&&i.isClip&&n&&l.area&&this.handleCutCellAreaEvent&&this.handleCutCellAreaEvent(e),this.emitEvent("cut",{},e))},handleGlobalResizeEvent:function(){this.closeMenu(),this.updateCellAreas(),this.recalculate(!0)},handleTargetEnterEvent:function(e){var t=this.$refs.tooltip;clearTimeout(this.tooltipTimeout),e?this.closeTooltip():t&&t.setActived(!0)},handleTargetLeaveEvent:function(){var e=this,t=this.tooltipOpts,r=this.$refs.tooltip;r&&r.setActived(!1),t.enterable?this.tooltipTimeout=setTimeout((function(){r=e.$refs.tooltip,r&&!r.isActived()&&e.closeTooltip()}),t.leaveDelay):this.closeTooltip()},triggerHeaderHelpEvent:function(e,t){var r=t.column,i=r.titlePrefix||r.titleHelp;if(i.content||i.message){var n=this.$refs,l=this.tooltipStore,o=(0,u.getFuncText)(i.content||i.message);this.handleTargetEnterEvent(!0),l.visible=!0,l.currOpts=T(T({},i),{},{content:null}),this.$nextTick((function(){var t=n.tooltip;t&&t.open(e.currentTarget,o)}))}},triggerHeaderTooltipEvent:function(e,t){var r=this.tooltipStore,i=t.column,n=e.currentTarget;this.handleTargetEnterEvent(r.column!==i||r.row),r.column===i&&r.visible||this.handleTooltip(e,n,n,null,t)},triggerBodyTooltipEvent:function(e,t){var r,i,n=this.editConfig,l=this.editOpts,o=this.editStore,a=this.tooltipStore,s=o.actived,c=t.row,h=t.column,d=e.currentTarget;if(this.handleTargetEnterEvent(a.column!==h||a.row!==c),h.editRender&&(0,u.isEnableConf)(n)){if("row"===l.mode&&s.row===c)return;if(s.row===c&&s.column===h)return}a.column===h&&a.row===c&&a.visible||(h.treeNode?(r=d.querySelector(".vxe-tree-cell"),"html"===h.type&&(i=d.querySelector(".vxe-cell--html"))):i=d.querySelector("html"===h.type?".vxe-cell--html":".vxe-cell--label"),this.handleTooltip(e,d,r||d.children[0],i,t))},triggerFooterTooltipEvent:function(e,t){var r=t.column,i=this.tooltipStore,n=e.currentTarget;this.handleTargetEnterEvent(!0),i.column===r&&i.visible||this.handleTooltip(e,n,n.querySelector(".vxe-cell--item")||n.children[0],null,t)},handleTooltip:function(e,t,r,i,l){l.cell=t;var o=this.$refs,a=this.tooltipOpts,s=this.tooltipStore,c=l.column,h=l.row,d=a.showAll,f=a.enabled,v=a.contentMethod,g=v?v(l):null,p=v&&!n.default.eqNull(g),m=p?g:("html"===c.type?r.innerText:r.textContent).trim(),x=r.scrollWidth>r.clientWidth;return m&&(d||f||p||x)&&(Object.assign(s,{row:h,column:c,visible:!0,currOpts:null}),this.$nextTick((function(){var e=o.tooltip;e&&e.open(x?r:i||r,u.default.formatText(m))}))),this.$nextTick()},openTooltip:function(e,t){var r=this.$refs,i=r.commTip;return i?i.open(e,t):this.$nextTick()},closeTooltip:function(){var e=this.$refs,t=this.tooltipStore,r=e.tooltip,i=e.commTip;return t.visible&&(Object.assign(t,{row:null,column:null,content:null,visible:!1,currOpts:null}),r&&r.close()),i&&i.close(),this.$nextTick()},isAllCheckboxChecked:function(){return this.isAllSelected},isAllCheckboxIndeterminate:function(){return!this.isAllSelected&&this.isIndeterminate},isCheckboxIndeterminate:function(){return(0,d.warnLog)("vxe.error.delFunc",["isCheckboxIndeterminate","isAllCheckboxIndeterminate"]),this.isAllCheckboxIndeterminate()},getCheckboxIndeterminateRecords:function(e){var t=this,r=this.treeConfig,i=this.treeIndeterminates,n=this.afterFullData;return r?e?i.slice(0):i.filter((function(e){return t.findRowIndexOf(n,e)>-1})):[]},handleDefaultSelectionChecked:function(){var e=this.fullDataRowIdData,t=this.checkboxOpts,r=t.checkAll,i=t.checkRowKeys;if(r)this.handleCheckedAllCheckboxRow(!0,!0);else if(i){var n=[];i.forEach((function(t){e[t]&&n.push(e[t].row)})),this.handleCheckedCheckboxRow(n,!0,!0)}},handleCheckedCheckboxRow:function(e,t,r){var i=this;return e&&!n.default.isArray(e)&&(e=[e]),e.forEach((function(e){return i.handleSelectRow({row:e},!!t,r)})),this.$nextTick()},setCheckboxRow:function(e,t){return this.handleCheckedCheckboxRow(e,t,!0)},isCheckedByCheckboxRow:function(e){var t=this.selection,r=this.checkboxOpts.checkField;return r?n.default.get(e,r):this.findRowIndexOf(t,e)>-1},isIndeterminateByCheckboxRow:function(e){var t=this.treeIndeterminates;return this.findRowIndexOf(t,e)>-1&&!this.isCheckedByCheckboxRow(e)},handleSelectRow:function(e,t,r){var i=this,l=e.row,o=this.selection,a=this.afterFullData,s=this.treeConfig,u=this.treeOpts,c=this.treeIndeterminates,h=this.checkboxOpts,d=h.checkField,f=h.checkStrictly,v=h.checkMethod;if(d)if(s&&!f){-1===t?(-1===this.findRowIndexOf(c,l)&&c.push(l),n.default.set(l,d,!1)):n.default.eachTree([l],(function(e){(i.eqRow(e,l)||r||!v||v({row:e}))&&(n.default.set(e,d,t),n.default.remove(c,(function(t){return i.eqRow(t,e)})),i.handleCheckboxReserveRow(l,t))}),u);var g=n.default.findTree(a,(function(e){return i.eqRow(e,l)}),u);if(g&&g.parent){var p,m=!r&&v?g.items.filter((function(e){return v({row:e})})):g.items,x=n.default.find(g.items,(function(e){return i.findRowIndexOf(c,e)>-1}));if(x)p=-1;else{var w=g.items.filter((function(e){return n.default.get(e,d)}));p=w.filter((function(e){return i.findRowIndexOf(m,e)>-1})).length===m.length||!(!w.length&&-1!==t)&&-1}return this.handleSelectRow({row:g.parent},p,r)}}else(r||!v||v({row:l}))&&(n.default.set(l,d,t),this.handleCheckboxReserveRow(l,t));else if(s&&!f){-1===t?(-1===this.findRowIndexOf(c,l)&&c.push(l),n.default.remove(o,(function(e){return i.eqRow(e,l)}))):n.default.eachTree([l],(function(e){(i.eqRow(e,l)||r||!v||v({row:e}))&&(t?o.push(e):n.default.remove(o,(function(t){return i.eqRow(t,e)})),n.default.remove(c,(function(t){return i.eqRow(t,e)})),i.handleCheckboxReserveRow(l,t))}),u);var b=n.default.findTree(a,(function(e){return i.eqRow(e,l)}),u);if(b&&b.parent){var C,R=!r&&v?b.items.filter((function(e){return v({row:e})})):b.items,y=n.default.find(b.items,(function(e){return i.findRowIndexOf(c,e)>-1}));if(y)C=-1;else{var T=b.items.filter((function(e){return i.findRowIndexOf(o,e)>-1}));C=T.filter((function(e){return i.findRowIndexOf(R,e)>-1})).length===R.length||!(!T.length&&-1!==t)&&-1}return this.handleSelectRow({row:b.parent},C,r)}}else(r||!v||v({row:l}))&&(t?-1===this.findRowIndexOf(o,l)&&o.push(l):n.default.remove(o,(function(e){return i.eqRow(e,l)})),this.handleCheckboxReserveRow(l,t));this.checkSelectionStatus()},handleToggleCheckRowEvent:function(e,t){var r=this.selection,i=this.checkboxOpts,l=i.checkField,o=t.row,a=l?!n.default.get(o,l):-1===this.findRowIndexOf(r,o);e?this.triggerCheckRowEvent(e,t,a):this.handleSelectRow(t,a)},triggerCheckRowEvent:function(e,t,r){var i=this.checkboxOpts.checkMethod;i&&!i({row:t.row})||(this.handleSelectRow(t,r),this.emitEvent("checkbox-change",Object.assign({records:this.getCheckboxRecords(),reserves:this.getCheckboxReserveRecords(),indeterminates:this.getCheckboxIndeterminateRecords(),checked:r},t),e))},toggleCheckboxRow:function(e){var t=this.selection,r=this.checkboxOpts,i=r.checkField,l=i?!n.default.get(e,i):-1===this.findRowIndexOf(t,e);return this.handleSelectRow({row:e},l,!0),this.$nextTick()},handleCheckedAllCheckboxRow:function(e,t){var r=this,i=this.afterFullData,l=this.treeConfig,o=this.treeOpts,a=this.selection,u=this.checkboxReserveRowMap,c=this.checkboxOpts,h=c.checkField,d=c.reserve,f=c.checkStrictly,v=c.checkMethod,g=[],p=l?[]:a.filter((function(e){return-1===r.findRowIndexOf(i,e)}));if(f)this.isAllSelected=e;else{if(h){var m=function(r){(t||!v||v({row:r}))&&(e&&g.push(r),n.default.set(r,h,e))};l?n.default.eachTree(i,m,o):i.forEach(m)}else l?e?n.default.eachTree(i,(function(e){(t||!v||v({row:e}))&&g.push(e)}),o):!t&&v&&n.default.eachTree(i,(function(e){!v({row:e})&&r.findRowIndexOf(a,e)>-1&&g.push(e)}),o):e?g=!t&&v?i.filter((function(e){return r.findRowIndexOf(a,e)>-1||v({row:e})})):i.slice(0):!t&&v&&(g=i.filter((function(e){return v({row:e})?0:r.findRowIndexOf(a,e)>-1})));d&&(e?g.forEach((function(e){u[(0,s.getRowid)(r,e)]=e})):i.forEach((function(e){return r.handleCheckboxReserveRow(e,!1)}))),this.selection=h?[]:p.concat(g)}return this.treeIndeterminates=[],this.checkSelectionStatus(),this.$nextTick()},setAllCheckboxRow:function(e){return this.handleCheckedAllCheckboxRow(e,!0)},checkSelectionStatus:function(){var e=this,t=this.afterFullData,r=this.selection,i=this.treeIndeterminates,l=this.checkboxOpts,o=this.treeConfig,a=l.checkField,s=l.halfField,u=l.checkStrictly,c=l.checkMethod;if(!u){var h=[],d=[],f=!1,v=!1,g=!1;a?(f=t.every(c?function(e){return c({row:e})?!!n.default.get(e,a)&&(d.push(e),!0):(h.push(e),!0)}:function(e){return n.default.get(e,a)}),v=f&&t.length!==h.length,g=o?s?!v&&t.some((function(t){return n.default.get(t,a)||n.default.get(t,s)||e.findRowIndexOf(i,t)>-1})):!v&&t.some((function(t){return n.default.get(t,a)||e.findRowIndexOf(i,t)>-1})):s?!v&&t.some((function(e){return n.default.get(e,a)||n.default.get(e,s)})):!v&&t.some((function(e){return n.default.get(e,a)}))):(f=t.every(c?function(t){return c({row:t})?e.findRowIndexOf(r,t)>-1&&(d.push(t),!0):(h.push(t),!0)}:function(t){return e.findRowIndexOf(r,t)>-1}),v=f&&t.length!==h.length,g=o?!v&&t.some((function(t){return e.findRowIndexOf(i,t)>-1||e.findRowIndexOf(r,t)>-1})):!v&&t.some((function(t){return e.findRowIndexOf(r,t)>-1}))),this.isAllSelected=v,this.isIndeterminate=g}},handleReserveStatus:function(){var e=this.expandColumn,t=this.treeOpts,r=this.treeConfig,i=this.fullDataRowIdData,n=this.fullAllDataRowMap,l=this.currentRow,o=this.selectRow,a=this.radioReserveRow,u=this.radioOpts,c=this.checkboxOpts,h=this.selection,d=this.rowExpandeds,f=this.treeExpandeds,v=this.expandOpts;if(o&&!n.has(o)&&(this.selectRow=null),u.reserve&&a){var g=(0,s.getRowid)(this,a);i[g]&&this.handleCheckedRadioRow(i[g].row,!0)}this.selection=P(this,h),c.reserve&&this.handleCheckedCheckboxRow(j(this,this.checkboxReserveRowMap),!0,!0),l&&!n.has(l)&&(this.currentRow=null),this.rowExpandeds=e?P(this,d):[],e&&v.reserve&&this.setRowExpand(j(this,this.rowExpandedReserveRowMap),!0),this.treeExpandeds=r?P(this,f):[],r&&t.reserve&&this.setTreeExpand(j(this,this.treeExpandedReserveRowMap),!0)},getRadioReserveRecord:function(e){var t=this.fullDataRowIdData,r=this.radioReserveRow,i=this.radioOpts,l=this.afterFullData,o=this.treeConfig,a=this.treeOpts;if(i.reserve&&r){var u=(0,s.getRowid)(this,r);if(e){if(!t[u])return r}else{var c=(0,s.getRowkey)(this);if(o){var h=n.default.findTree(l,(function(e){return u===n.default.get(e,c)}),a);if(h)return r}else if(!l.some((function(e){return u===n.default.get(e,c)})))return r}}return null},clearRadioReserve:function(){return this.radioReserveRow=null,this.$nextTick()},handleRadioReserveRow:function(e){var t=this.radioOpts;t.reserve&&(this.radioReserveRow=e)},getCheckboxReserveRecords:function(e){var t=this,r=this.fullDataRowIdData,i=this.afterFullData,l=this.checkboxReserveRowMap,o=this.checkboxOpts,a=this.treeConfig,u=this.treeOpts,c=[];if(o.reserve){var h={};a?n.default.eachTree(i,(function(e){h[(0,s.getRowid)(t,e)]=1}),u):i.forEach((function(e){h[(0,s.getRowid)(t,e)]=1})),n.default.each(l,(function(t,i){t&&(e?r[i]||c.push(t):h[i]||c.push(t))}))}return c},clearCheckboxReserve:function(){return this.checkboxReserveRowMap={},this.$nextTick()},handleCheckboxReserveRow:function(e,t){var r=this.checkboxReserveRowMap,i=this.checkboxOpts;if(i.reserve){var n=(0,s.getRowid)(this,e);t?r[n]=e:r[n]&&delete r[n]}},triggerCheckAllEvent:function(e,t){this.handleCheckedAllCheckboxRow(t),this.emitEvent("checkbox-all",{records:this.getCheckboxRecords(),reserves:this.getCheckboxReserveRecords(),indeterminates:this.getCheckboxIndeterminateRecords(),checked:t},e)},toggleAllCheckboxRow:function(){return this.triggerCheckAllEvent(null,!this.isAllSelected),this.$nextTick()},clearCheckboxRow:function(){var e=this,t=this.tableFullData,r=this.treeConfig,i=this.treeOpts,l=this.checkboxOpts,o=l.checkField,a=l.reserve;return o&&(r?n.default.eachTree(t,(function(e){return n.default.set(e,o,!1)}),i):t.forEach((function(e){return n.default.set(e,o,!1)}))),a&&t.forEach((function(t){return e.handleCheckboxReserveRow(t,!1)})),this.isAllSelected=!1,this.isIndeterminate=!1,this.selection=[],this.treeIndeterminates=[],this.$nextTick()},handleDefaultRadioChecked:function(){var e=this.radioOpts,t=this.fullDataRowIdData,r=e.checkRowKey,i=e.reserve;if(r&&(t[r]&&this.handleCheckedRadioRow(t[r].row,!0),i)){var n=(0,s.getRowkey)(this);this.radioReserveRow=S({},n,r)}},triggerRadioRowEvent:function(e,t){var r=this.selectRow,i=this.radioOpts,n=t.row,l=n,o=r!==l;o?this.handleCheckedRadioRow(l):i.strict||(o=r===l,o&&(l=null,this.clearRadioRow())),o&&this.emitEvent("radio-change",T({oldValue:r,newValue:l},t),e)},triggerCurrentRowEvent:function(e,t){var r=this.currentRow,i=t.row,n=r!==i;this.setCurrentRow(i),n&&this.emitEvent("current-change",T({oldValue:r,newValue:i},t),e)},setCurrentRow:function(e){var t=this.$el,r=this.rowOpts;return this.clearCurrentRow(),this.currentRow=e,(r.isCurrent||this.highlightCurrentRow)&&t&&n.default.arrayEach(t.querySelectorAll('[rowid="'.concat((0,s.getRowid)(this,e),'"]')),(function(e){return $(e,"row--current")})),this.$nextTick()},isCheckedByRadioRow:function(e){return this.selectRow===e},handleCheckedRadioRow:function(e,t){var r=this.radioOpts,i=r.checkMethod;return e&&(t||!i||i({row:e}))&&(this.selectRow=e,this.handleRadioReserveRow(e)),this.$nextTick()},setRadioRow:function(e){return this.handleCheckedRadioRow(e,!0)},clearCurrentRow:function(){var e=this.$el;return this.currentRow=null,this.hoverRow=null,e&&n.default.arrayEach(e.querySelectorAll(".row--current"),(function(e){return L(e,"row--current")})),this.$nextTick()},clearRadioRow:function(){return this.selectRow=null,this.$nextTick()},getCurrentRecord:function(){return this.rowOpts.isCurrent||this.highlightCurrentRow?this.currentRow:null},getRadioRecord:function(e){var t=this.treeConfig,r=this.treeOpts,i=this.selectRow,l=this.fullDataRowIdData,o=this.afterFullData;if(i){var a=(0,s.getRowid)(this,i);if(e){if(!l[a])return i}else if(t){var u=(0,s.getRowkey)(this),c=n.default.findTree(o,(function(e){return a===n.default.get(e,u)}),r);if(c)return i}else if(o.indexOf(i)>-1)return i}return null},triggerHoverEvent:function(e,t){var r=t.row;this.setHoverRow(r)},setHoverRow:function(e){var t=this.$el,r=(0,s.getRowid)(this,e);this.clearHoverRow(),t&&n.default.arrayEach(t.querySelectorAll('[rowid="'.concat(r,'"]')),(function(e){return $(e,"row--hover")})),this.hoverRow=e},clearHoverRow:function(){var e=this.$el;e&&n.default.arrayEach(e.querySelectorAll(".vxe-body--row.row--hover"),(function(e){return L(e,"row--hover")})),this.hoverRow=null},triggerHeaderCellClickEvent:function(e,t){var r=this._lastResizeTime,i=this.sortOpts,n=t.column,l=e.currentTarget,o=r&&r>Date.now()-300,a=A(e,l,"vxe-cell--sort").flag,s=A(e,l,"vxe-cell--filter").flag;return"cell"!==i.trigger||o||a||s||this.triggerSortEvent(e,n,q(this,n)),this.emitEvent("header-cell-click",Object.assign({triggerResizable:o,triggerSort:a,triggerFilter:s,cell:l},t),e),this.columnOpts.isCurrent||this.highlightCurrentColumn?this.setCurrentColumn(n):this.$nextTick()},triggerHeaderCellDblclickEvent:function(e,t){this.emitEvent("header-cell-dblclick",Object.assign({cell:e.currentTarget},t),e)},getCurrentColumn:function(){return this.columnOpts.isCurrent||this.highlightCurrentColumn?this.currentColumn:null},setCurrentColumn:function(e){var t=(0,s.handleFieldOrColumn)(this,e);return t&&(this.clearCurrentColumn(),this.currentColumn=t),this.$nextTick()},clearCurrentColumn:function(){return this.currentColumn=null,this.$nextTick()},checkValidate:function(e){return a.default._valid?this.triggerValidate(e):this.$nextTick()},handleChangeCell:function(e,t){var r=this;this.checkValidate("blur").catch((function(e){return e})).then((function(){r.handleActived(t,e).then((function(){return r.checkValidate("change")})).catch((function(e){return e}))}))},triggerCellClickEvent:function(e,t){var r=this.highlightCurrentRow,i=this.editStore,n=this.radioOpts,l=this.expandOpts,o=this.treeOpts,a=this.editConfig,s=this.editOpts,c=this.checkboxOpts,h=this.rowOpts,d=i.actived,f=t,v=f.row,g=f.column,p=g.type,m=g.treeNode,x="radio"===p,w="checkbox"===p,b="expand"===p,C=e.currentTarget,R=x&&A(e,C,"vxe-cell--radio").flag,y=w&&A(e,C,"vxe-cell--checkbox").flag,T=m&&A(e,C,"vxe-tree--btn-wrapper").flag,S=b&&A(e,C,"vxe-table--expanded").flag;t=Object.assign({cell:C,triggerRadio:R,triggerCheckbox:y,triggerTreeNode:T,triggerExpandNode:S},t),y||R||(!S&&("row"===l.trigger||b&&"cell"===l.trigger)&&this.triggerRowExpandEvent(e,t),("row"===o.trigger||m&&"cell"===o.trigger)&&this.triggerTreeExpandEvent(e,t)),T||(S||((h.isCurrent||r)&&(y||R||this.triggerCurrentRowEvent(e,t)),!R&&("row"===n.trigger||x&&"cell"===n.trigger)&&this.triggerRadioRowEvent(e,t),!y&&("row"===c.trigger||w&&"cell"===c.trigger)&&this.handleToggleCheckRowEvent(e,t)),(0,u.isEnableConf)(a)&&("manual"===s.trigger?d.args&&d.row===v&&g!==d.column&&this.handleChangeCell(e,t):d.args&&v===d.row&&g===d.column||("click"===s.trigger||"dblclick"===s.trigger&&"row"===s.mode&&d.row===v)&&this.handleChangeCell(e,t))),this.emitEvent("cell-click",t,e)},triggerCellDblclickEvent:function(e,t){var r=this,i=this.editStore,n=this.editConfig,l=this.editOpts,o=i.actived,a=e.currentTarget;t.cell=a,(0,u.isEnableConf)(n)&&"dblclick"===l.trigger&&(o.args&&e.currentTarget===o.args.cell||("row"===l.mode?this.checkValidate("blur").catch((function(e){return e})).then((function(){r.handleActived(t,e).then((function(){return r.checkValidate("change")})).catch((function(e){return e}))})):"cell"===l.mode&&this.handleActived(t,e).then((function(){return r.checkValidate("change")})).catch((function(e){return e})))),this.emitEvent("cell-dblclick",t,e)},handleDefaultSort:function(){var e=this,t=this.sortConfig,r=this.sortOpts,i=r.defaultSort;i&&(n.default.isArray(i)||(i=[i]),i.length&&((t.multiple?i:i.slice(0,1)).forEach((function(t,r){var i=t.field,n=t.order;if(i&&n){var l=e.getColumnByField(i);l&&l.sortable&&(l.order=n,l.sortTime=Date.now()+r)}})),r.remote||this.handleTableData(!0).then(this.updateStyle)))},triggerSortEvent:function(e,t,r){var i=this.sortOpts,n=t.field,l=t.sortable,o=t.remoteSort;if(l||o){r&&t.order!==r?this.sort({field:n,order:r}):this.clearSort(i.multiple?t:null);var a={column:t,field:n,property:n,order:t.order,sortList:this.getSortColumns()};this.emitEvent("sort-change",a,e)}},sort:function(e,t){var r,i=this,l=this.sortOpts,o=l.multiple,a=l.remote,s=l.orders;return e&&n.default.isString(e)&&(e=[{field:e,order:t}]),n.default.isArray(e)||(e=[e]),e.length?(o||G(this),(o?e:[e[0]]).forEach((function(e,t){var l=e.field,o=e.order,a=l;n.default.isString(l)&&(a=i.getColumnByField(l)),a&&(a.sortable||a.remoteSort)&&(r||(r=a),-1===s.indexOf(o)&&(o=q(i,a)),a.order!==o&&(a.order=o),a.sortTime=Date.now()+t)})),(!a||r&&r.remoteSort)&&this.handleTableData(!0),this.$nextTick().then(this.updateStyle)):this.$nextTick()},clearSort:function(e){var t=this.sortOpts;if(e){var r=(0,s.handleFieldOrColumn)(this,e);r&&(r.order=null)}else G(this);return t.remote||this.handleTableData(!0),this.$nextTick().then(this.updateStyle)},getSortColumn:function(){return n.default.find(this.tableFullColumn,(function(e){return(e.sortable||e.remoteSort)&&e.order}))},isSort:function(e){if(e){var t=(0,s.handleFieldOrColumn)(this,e);return t&&t.sortable&&!!t.order}return this.getSortColumns().length>0},getSortColumns:function(){var e=this.sortOpts,t=e.multiple,r=e.chronological,i=[];return this.tableFullColumn.forEach((function(e){var t=e.field,r=e.order;(e.sortable||e.remoteSort)&&r&&i.push({column:e,field:t,property:t,order:r,sortTime:e.sortTime})})),t&&r&&i.length>1?n.default.orderBy(i,"sortTime"):i},closeFilter:function(){var e=this.filterStore,t=e.column,r=e.visible;return Object.assign(e,{isAllSelected:!1,isIndeterminate:!1,options:[],visible:!1}),r&&this.emitEvent("filter-visible",{column:t,field:t.field,property:t.field,filterList:this.getCheckedFilters(),visible:!1},null),this.$nextTick()},isFilter:function(e){var t=(0,s.handleFieldOrColumn)(this,e);return t?t.filters&&t.filters.some((function(e){return e.checked})):this.getCheckedFilters().length>0},isRowExpandLoaded:function(e){var t=this.fullAllDataRowMap.get(e);return t&&t.expandLoaded},clearRowExpandLoaded:function(e){var t=this,r=this.expandOpts,i=this.expandLazyLoadeds,l=this.fullAllDataRowMap,o=r.lazy,a=l.get(e);return o&&a&&(a.expandLoaded=!1,n.default.remove(i,(function(r){return t.eqRow(r,e)}))),this.$nextTick()},reloadRowExpand:function(e){var t=this,r=this.expandOpts,i=this.expandLazyLoadeds,n=r.lazy;return n&&-1===this.findRowIndexOf(i,e)&&this.clearRowExpandLoaded(e).then((function(){return t.handleAsyncRowExpand(e)})),this.$nextTick()},reloadExpandContent:function(e){return this.reloadRowExpand(e)},triggerRowExpandEvent:function(e,t){var r=this.expandOpts,i=this.expandLazyLoadeds,n=this.expandColumn,l=t.row,o=r.lazy;if(!o||-1===this.findRowIndexOf(i,l)){var a=!this.isExpandByRow(l),s=this.getColumnIndex(n),u=this.getVMColumnIndex(n);this.setRowExpand(l,a),this.emitEvent("toggle-row-expand",{expanded:a,column:n,columnIndex:s,$columnIndex:u,row:l,rowIndex:this.getRowIndex(l),$rowIndex:this.getVMRowIndex(l)},e)}},toggleRowExpand:function(e){return this.setRowExpand(e,!this.isExpandByRow(e))},handleDefaultRowExpand:function(){var e=this.expandOpts,t=this.fullDataRowIdData,r=e.expandAll,i=e.expandRowKeys;if(r)this.setAllRowExpand(!0);else if(i){var n=[];i.forEach((function(e){t[e]&&n.push(t[e].row)})),this.setRowExpand(n,!0)}},setAllRowExpand:function(e){return this.setRowExpand(this.expandOpts.lazy?this.tableData:this.tableFullData,e)},handleAsyncRowExpand:function(e){var t=this,r=this.fullAllDataRowMap.get(e);return new Promise((function(i){t.expandLazyLoadeds.push(e),t.expandOpts.loadMethod({$table:t,row:e,rowIndex:t.getRowIndex(e),$rowIndex:t.getVMRowIndex(e)}).then((function(){r.expandLoaded=!0,t.rowExpandeds.push(e)})).catch((function(){r.expandLoaded=!1})).finally((function(){n.default.remove(t.expandLazyLoadeds,(function(r){return t.eqRow(r,e)})),i(t.$nextTick().then(t.recalculate))}))}))},setRowExpand:function(e,t){var r=this,i=this.fullAllDataRowMap,l=this.expandLazyLoadeds,o=this.expandOpts,a=this.expandColumn,s=this.rowExpandeds,u=o.reserve,c=o.lazy,h=o.accordion,d=o.toggleMethod,f=[],v=this.getColumnIndex(a),g=this.getVMColumnIndex(a);if(e){n.default.isArray(e)||(e=[e]),h&&(s=[],e=e.slice(e.length-1,e.length));var p=d?e.filter((function(e){return d({expanded:t,column:a,columnIndex:v,$columnIndex:g,row:e,rowIndex:r.getRowIndex(e),$rowIndex:r.getVMRowIndex(e)})})):e;t?p.forEach((function(e){if(-1===r.findRowIndexOf(s,e)){var t=i.get(e),n=c&&!t.expandLoaded&&-1===r.findRowIndexOf(l,e);n?f.push(r.handleAsyncRowExpand(e)):s.push(e)}})):n.default.remove(s,(function(e){return r.findRowIndexOf(p,e)>-1})),u&&p.forEach((function(e){return r.handleRowExpandReserve(e,t)}))}return this.rowExpandeds=s,Promise.all(f).then(this.recalculate)},isExpandByRow:function(e){var t=this.rowExpandeds;return this.findRowIndexOf(t,e)>-1},clearRowExpand:function(){var e=this,t=this.expandOpts,r=this.rowExpandeds,i=this.tableFullData,n=t.reserve,l=r.length;return this.rowExpandeds=[],n&&i.forEach((function(t){return e.handleRowExpandReserve(t,!1)})),this.$nextTick().then((function(){l&&e.recalculate()}))},clearRowExpandReserve:function(){return this.rowExpandedReserveRowMap={},this.$nextTick()},handleRowExpandReserve:function(e,t){var r=this.rowExpandedReserveRowMap,i=this.expandOpts;if(i.reserve){var n=(0,s.getRowid)(this,e);t?r[n]=e:r[n]&&delete r[n]}},getRowExpandRecords:function(){return this.rowExpandeds.slice(0)},getTreeExpandRecords:function(){return this.treeExpandeds.slice(0)},getTreeStatus:function(){return this.treeConfig?{config:this.treeOpts,rowExpandeds:this.getTreeExpandRecords()}:null},isTreeExpandLoaded:function(e){var t=this.fullAllDataRowMap.get(e);return t&&t.treeLoaded},clearTreeExpandLoaded:function(e){var t=this.treeOpts,r=this.treeExpandeds,i=this.fullAllDataRowMap,l=t.transform,o=t.lazy,a=i.get(e);return o&&a&&(a.treeLoaded=!1,n.default.remove(r,(function(t){return e===t}))),l?(this.handleVirtualTreeToList(),this.handleTableData()):this.$nextTick()},reloadTreeExpand:function(e){var t=this,r=this.treeOpts,i=this.treeLazyLoadeds,n=r.transform,l=r.lazy,o=r.hasChild;return l&&e[o]&&-1===i.indexOf(e)&&this.clearTreeExpandLoaded(e).then((function(){return t.handleAsyncTreeExpandChilds(e)})).then((function(){if(n)return t.handleVirtualTreeToList(),t.handleTableData()})).then((function(){return t.recalculate()})),this.$nextTick()},reloadTreeChilds:function(e){return this.reloadTreeExpand(e)},triggerTreeExpandEvent:function(e,t){var r=this.treeOpts,i=this.treeLazyLoadeds,n=t.row,l=t.column,o=r.lazy;if(!o||-1===i.indexOf(n)){var a=!this.isTreeExpandByRow(n),s=this.getColumnIndex(l),u=this.getVMColumnIndex(l);this.setTreeExpand(n,a),this.emitEvent("toggle-tree-expand",{expanded:a,column:l,columnIndex:s,$columnIndex:u,row:n},e)}},toggleTreeExpand:function(e){return this.setTreeExpand(e,!this.isTreeExpandByRow(e))},handleDefaultTreeExpand:function(){var e=this.treeConfig,t=this.treeOpts,r=this.tableFullData;if(e){var i=t.expandAll,l=t.expandRowKeys;if(i)this.setAllTreeExpand(!0);else if(l){var o=[],a=(0,s.getRowkey)(this);l.forEach((function(e){var i=n.default.findTree(r,(function(t){return e===n.default.get(t,a)}),t);i&&o.push(i.item)})),this.setTreeExpand(o,!0)}}},handleAsyncTreeExpandChilds:function(e){var t=this,r=this.fullAllDataRowMap,i=this.treeExpandeds,l=this.treeOpts,o=this.treeLazyLoadeds,a=this.checkboxOpts,s=l.transform,u=l.loadMethod,c=a.checkStrictly,h=r.get(e);return new Promise((function(r){o.push(e),u({$table:t,row:e}).then((function(r){if(h.treeLoaded=!0,n.default.remove(o,(function(t){return t===e})),n.default.isArray(r)||(r=[]),r)return t.loadTreeChildren(e,r).then((function(r){return r.length&&-1===i.indexOf(e)&&i.push(e),!c&&t.isCheckedByCheckboxRow(e)&&t.handleCheckedCheckboxRow(r,!0,!0),t.$nextTick().then((function(){if(s)return t.handleTableData()}))}))})).catch((function(){h.treeLoaded=!1,n.default.remove(o,(function(t){return t===e}))})).finally((function(){t.$nextTick().then((function(){return t.recalculate()})).then((function(){return r()}))}))}))},setAllTreeExpand:function(e){var t=this.tableFullData,r=this.treeOpts,i=r.lazy,l=r.children,o=[];return n.default.eachTree(t,(function(e){var t=e[l];(i||t&&t.length)&&o.push(e)}),r),this.setTreeExpand(o,e)},handleBaseTreeExpand:function(e,t){var r=this,i=this.fullAllDataRowMap,l=this.tableFullData,o=this.treeExpandeds,a=this.treeOpts,s=this.treeLazyLoadeds,u=this.treeNodeColumn,c=a.reserve,h=a.lazy,d=a.hasChild,f=a.children,v=a.accordion,g=a.toggleMethod,p=[],m=this.getColumnIndex(u),x=this.getVMColumnIndex(u),w=g?e.filter((function(e){return g({expanded:t,column:u,columnIndex:m,$columnIndex:x,row:e})})):e;if(v){w=w.length?[w[w.length-1]]:[];var b=n.default.findTree(l,(function(e){return e===w[0]}),a);b&&n.default.remove(o,(function(e){return b.items.indexOf(e)>-1}))}return t?w.forEach((function(e){if(-1===o.indexOf(e)){var t=i.get(e),n=h&&e[d]&&!t.treeLoaded&&-1===s.indexOf(e);n?p.push(r.handleAsyncTreeExpandChilds(e)):e[f]&&e[f].length&&o.push(e)}})):n.default.remove(o,(function(e){return w.indexOf(e)>-1})),c&&w.forEach((function(e){return r.handleTreeExpandReserve(e,t)})),Promise.all(p).then(this.recalculate)},handleVirtualTreeExpand:function(e,t){var r=this;return this.handleBaseTreeExpand(e,t).then((function(){return r.handleVirtualTreeToList(),r.handleTableData()})).then((function(){return r.recalculate()}))},setTreeExpand:function(e,t){var r=this.treeOpts,i=r.transform;return e&&(n.default.isArray(e)||(e=[e]),e.length)?i?this.handleVirtualTreeExpand(e,t):this.handleBaseTreeExpand(e,t):this.$nextTick()},isTreeExpandByRow:function(e){return this.treeExpandeds.indexOf(e)>-1},clearTreeExpand:function(){var e=this,t=this.treeOpts,r=this.treeExpandeds,i=this.tableFullData,l=t.transform,o=t.reserve,a=r.length;return this.treeExpandeds=[],o&&n.default.eachTree(i,(function(t){return e.handleTreeExpandReserve(t,!1)}),t),this.handleTableData().then((function(){if(l)return e.handleVirtualTreeToList(),e.handleTableData()})).then((function(){a&&e.recalculate()}))},clearTreeExpandReserve:function(){return this.treeExpandedReserveRowMap={},this.$nextTick()},handleTreeExpandReserve:function(e,t){var r=this.treeExpandedReserveRowMap,i=this.treeOpts;if(i.reserve){var n=(0,s.getRowid)(this,e);t?r[n]=e:r[n]&&delete r[n]}},getScroll:function(){var e=this.$refs,t=this.scrollXLoad,r=this.scrollYLoad,i=e.tableBody.$el;return{virtualX:t,virtualY:r,scrollTop:i.scrollTop,scrollLeft:i.scrollLeft}},triggerScrollXEvent:function(){this.loadScrollXData()},loadScrollXData:function(){var e=this.mergeList,t=this.mergeFooterList,r=this.scrollXStore,i=r.startIndex,n=r.endIndex,l=r.offsetSize,o=_(this),a=o.toVisibleIndex,s=o.visibleSize,u={startIndex:Math.max(0,a-1-l),endIndex:a+s+l};X(e.concat(t),u,"col");var c=u.startIndex,h=u.endIndex;(a<=i||a>=n-s-1)&&(i===c&&n===h||(r.startIndex=c,r.endIndex=h,this.updateScrollXData())),this.closeTooltip()},triggerScrollYEvent:function(e){var t=this.scrollYStore,r=t.adaptive,i=t.offsetSize,n=t.visibleSize;F&&r&&2*i+n<=40?this.loadScrollYData(e):this.debounceScrollY(e)},debounceScrollY:n.default.debounce((function(e){this.loadScrollYData(e)}),z,{leading:!1,trailing:!0}),loadScrollYData:function(e){var t=this.mergeList,r=this.scrollYStore,i=r.startIndex,n=r.endIndex,l=r.visibleSize,o=r.offsetSize,a=r.rowHeight,s=e.currentTarget||e.target,u=s.scrollTop,c=Math.floor(u/a),h={startIndex:Math.max(0,c-1-o),endIndex:c+l+o};X(t,h,"row");var d=h.startIndex,f=h.endIndex;(c<=i||c>=n-l-1)&&(i===d&&n===f||(r.startIndex=d,r.endIndex=f,this.updateScrollYData()))},computeScrollLoad:function(){var e=this;return this.$nextTick().then((function(){var t=e.sYOpts,r=e.sXOpts,i=e.scrollXLoad,l=e.scrollYLoad,o=e.scrollXStore,a=e.scrollYStore;if(i){var s=_(e),u=s.visibleSize,h=r.oSize?n.default.toNumber(r.oSize):c.browse.msie?10:c.browse.edge?5:0;o.offsetSize=h,o.visibleSize=u,o.endIndex=Math.max(o.startIndex+o.visibleSize+h,o.endIndex),e.updateScrollXData()}else e.updateScrollXSpace();var d=Y(e),f=d.rowHeight,v=d.visibleSize;if(a.rowHeight=f,l){var g=t.oSize?n.default.toNumber(t.oSize):c.browse.msie?20:c.browse.edge?10:0;a.offsetSize=g,a.visibleSize=v,a.endIndex=Math.max(a.startIndex+v+g,a.endIndex),e.updateScrollYData()}else e.updateScrollYSpace();e.rowHeight=f,e.$nextTick(e.updateStyle)}))},handleTableColumn:function(){var e=this.scrollXLoad,t=this.visibleColumn,r=this.scrollXStore;this.tableColumn=e?t.slice(r.startIndex,r.endIndex):t.slice(0)},updateScrollXData:function(){var e=this;this.$nextTick((function(){e.handleTableColumn(),e.updateScrollXSpace()}))},updateScrollXSpace:function(){var e=this.$refs,t=this.isGroup,r=this.elemStore,i=this.visibleColumn,n=this.scrollXStore,l=this.scrollXLoad,o=this.tableWidth,a=this.scrollbarWidth,s=e.tableHeader,u=e.tableBody,c=e.tableFooter,h=u?u.$el:null;if(h){var d=s?s.$el:null,f=c?c.$el:null,v=d?d.querySelector(".vxe-table--header"):null,g=h.querySelector(".vxe-table--body"),p=f?f.querySelector(".vxe-table--footer"):null,m=i.slice(0,n.startIndex).reduce((function(e,t){return e+t.renderWidth}),0),x="";l&&(x="".concat(m,"px")),v&&(v.style.marginLeft=t?"":x),g.style.marginLeft=x,p&&(p.style.marginLeft=x);var w=["main"];w.forEach((function(e){var t=["header","body","footer"];t.forEach((function(t){var i=r["".concat(e,"-").concat(t,"-xSpace")];i&&(i.style.width=l?"".concat(o+("header"===t?a:0),"px"):"")}))})),this.$nextTick(this.updateStyle)}},updateScrollYData:function(){var e=this;this.$nextTick((function(){e.handleTableData(),e.updateScrollYSpace()}))},updateScrollYSpace:function(){var e=this.elemStore,t=this.scrollYStore,r=this.scrollYLoad,i=this.afterFullData,n=t.startIndex,l=t.rowHeight,o=i.length*l,a=Math.max(0,n*l),s=["main","left","right"],u="",c="";r&&(u="".concat(a,"px"),c="".concat(o,"px")),s.forEach((function(t){var r=["header","body","footer"],i=e["".concat(t,"-body-table")];i&&(i.style.marginTop=u),r.forEach((function(r){var i=e["".concat(t,"-").concat(r,"-ySpace")];i&&(i.style.height=c)}))})),this.$nextTick(this.updateStyle)},scrollTo:function(e,t){var r=this,i=this.$refs,l=i.tableBody,o=i.rightBody,a=i.tableFooter,s=l?l.$el:null,u=o?o.$el:null,h=a?a.$el:null;return n.default.isNumber(e)&&(0,c.setScrollLeft)(h||s,e),n.default.isNumber(t)&&(0,c.setScrollTop)(u||s,t),this.scrollXLoad||this.scrollYLoad?new Promise((function(e){return setTimeout((function(){return e(r.$nextTick())}),50)})):this.$nextTick()},scrollToRow:function(e,t){var r=[];return e&&(this.treeConfig?r.push(this.scrollToTreeRow(e)):r.push((0,s.rowToVisible)(this,e))),t&&r.push(this.scrollToColumn(t)),Promise.all(r)},scrollToColumn:function(e){var t=(0,s.handleFieldOrColumn)(this,e);return t&&this.fullColumnMap.has(t)?(0,s.colToVisible)(this,t):this.$nextTick()},scrollToTreeRow:function(e){var t=this,r=this.tableFullData,i=this.treeConfig,l=this.treeOpts,o=[];if(i){var a=n.default.findTree(r,(function(t){return t===e}),l);if(a){var u=a.nodes;u.forEach((function(e,r){r<u.length-1&&!t.isTreeExpandByRow(e)&&o.push(t.setTreeExpand(e,!0))}))}}return Promise.all(o).then((function(){return(0,s.rowToVisible)(t,e)}))},clearScroll:function(){var e=this.$refs,t=this.scrollXStore,r=this.scrollYStore,i=e.tableBody,n=e.rightBody,l=e.tableFooter,o=i?i.$el:null,a=n?n.$el:null,u=l?l.$el:null;return a&&((0,s.restoreScrollListener)(a),a.scrollTop=0),u&&(u.scrollLeft=0),o&&((0,s.restoreScrollListener)(o),o.scrollTop=0,o.scrollLeft=0),t.startIndex=0,r.startIndex=0,this.$nextTick()},updateFooter:function(){var e=this.showFooter,t=this.visibleColumn,r=this.footerMethod;return e&&r&&(this.footerTableData=t.length?r({columns:t,data:this.afterFullData,$table:this,$grid:this.$xegrid}):[]),this.$nextTick()},updateStatus:function(e,t){var r=this,i=!n.default.isUndefined(t);return this.$nextTick().then((function(){var n=r.$refs,l=r.editRules,o=r.validStore;if(e&&n.tableBody&&l){var a=e.row,s=e.column,u="change";if(r.hasCellRules(u,a,s)){var c=r.getCell(a,s);if(c)return r.validCellRules(u,a,s,t).then((function(){i&&o.visible&&E(a,s,t),r.clearValidate()})).catch((function(e){var n=e.rule;i&&E(a,s,t),r.showValidTooltip({rule:n,row:a,column:s,cell:c})}))}}}))},handleDefaultMergeCells:function(){this.setMergeCells(this.mergeCells)},setMergeCells:function(e){var t=this;return this.spanMethod&&(0,d.errLog)("vxe.error.errConflicts",["merge-cells","span-method"]),U(this,e,this.mergeList,this.afterFullData),this.$nextTick().then((function(){return t.updateCellAreas()}))},removeMergeCells:function(e){var t=this;this.spanMethod&&(0,d.errLog)("vxe.error.errConflicts",["merge-cells","span-method"]);var r=K(this,e,this.mergeList,this.afterFullData);return this.$nextTick().then((function(){return t.updateCellAreas(),r}))},getMergeCells:function(){return this.mergeList.slice(0)},clearMergeCells:function(){return this.mergeList=[],this.$nextTick()},handleDefaultMergeFooterItems:function(){this.setMergeFooterItems(this.mergeFooterItems)},setMergeFooterItems:function(e){var t=this;return this.footerSpanMethod&&(0,d.errLog)("vxe.error.errConflicts",["merge-footer-items","footer-span-method"]),U(this,e,this.mergeFooterList,null),this.$nextTick().then((function(){return t.updateCellAreas()}))},removeMergeFooterItems:function(e){var t=this;this.footerSpanMethod&&(0,d.errLog)("vxe.error.errConflicts",["merge-footer-items","footer-span-method"]);var r=K(this,e,this.mergeFooterList,null);return this.$nextTick().then((function(){return t.updateCellAreas(),r}))},getMergeFooterItems:function(){return this.mergeFooterList.slice(0)},clearMergeFooterItems:function(){return this.mergeFooterList=[],this.$nextTick()},updateZindex:function(){this.zIndex?this.tZindex=this.zIndex:this.tZindex<u.default.getLastZIndex()&&(this.tZindex=u.default.nextZIndex())},updateCellAreas:function(){this.mouseConfig&&this.mouseOpts.area&&this.handleUpdateCellAreas&&this.handleUpdateCellAreas()},emitEvent:function(e,t,r){this.$emit(e,Object.assign({$table:this,$grid:this.$xegrid,$event:r},t))},focus:function(){return this.isActivated=!0,this.$nextTick()},blur:function(){return this.isActivated=!1,this.$nextTick()},connect:function(e){return e&&e.syncUpdate?(e.syncUpdate({collectColumn:this.collectColumn,$table:this}),this.$toolbar=e):(0,d.errLog)("vxe.error.barUnableLink"),this.$nextTick()},getCell:function(e,t){var r=this.$refs,i=(0,s.getRowid)(this,e),n=r["".concat(t.fixed||"table","Body")]||r.tableBody;return n&&n.$el?n.$el.querySelector('.vxe-body--row[rowid="'.concat(i,'"] .').concat(t.id)):null},getCellLabel:function(e,t){var r=t.formatter,i=u.default.getCellValue(e,t),l=i;if(r){var o,a,s=this.fullAllDataRowMap,c=t.id,d=s.has(e);if(d&&(o=s.get(e),a=o.formatData,a||(a=s.get(e).formatData={}),o&&a[c]&&a[c].value===i))return a[c].label;var f={cellValue:i,row:e,rowIndex:this.getRowIndex(e),column:t,columnIndex:this.getColumnIndex(t)};if(n.default.isString(r)){var v=h.formats.get(r);l=v?v(f):""}else if(n.default.isArray(r)){var g=h.formats.get(r[0]);l=g?g.apply(void 0,[f].concat(m(r.slice(1)))):""}else l=r(f);a&&(a[c]={value:i,label:l})}return l},findRowIndexOf:function(e,t){var r=this;return t?n.default.findIndexOf(e,(function(e){return r.eqRow(e,t)})):-1},eqRow:function(e,t){return!(!e||!t)&&(e===t||(0,s.getRowid)(this,e)===(0,s.getRowid)(this,t))},getSetupOptions:function(){return l.default}},Q="setFilter,openFilter,clearFilter,getCheckedFilters,closeMenu,setActiveCellArea,getActiveCellArea,getCellAreas,clearCellAreas,copyCellArea,cutCellArea,pasteCellArea,getCopyCellArea,getCopyCellAreas,clearCopyCellArea,setCellAreas,openFind,openReplace,closeFNR,getSelectedCell,clearSelected,insert,insertAt,remove,removeCheckboxRow,removeRadioRow,removeCurrentRow,getRecordset,getInsertRecords,getRemoveRecords,getUpdateRecords,clearEdit,clearActived,getEditRecord,getActiveRecord,isEditByRow,isActiveByRow,setEditRow,setActiveRow,setEditCell,setActiveCell,setSelectCell,clearValidate,fullValidate,validate,openExport,openPrint,exportData,openImport,importData,saveFile,readFile,importByFile,print".split(",");Q.forEach((function(e){J[e]=function(){return this["_".concat(e)]?this["_".concat(e)].apply(this,arguments):null}}));var ee=J;t.default=ee}}]);