(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-76c1ac98"],{"1e71":function(e,n,s){},"55c3":function(e,n,s){"use strict";s.r(n);var t=function(){var e=this,n=e._self._c;return n("div",{staticClass:"threadWrap"},[n("h1",[e._v("开启一个线程运算用$worker.run方法")]),n("br"),n("el-button",{staticStyle:{"margin-bottom":"16px"},attrs:{type:"success",plain:"",size:"small"},on:{click:e.openOneThread}},[e._v("计算斐波那契数列值和用时，以及渲染页面两个任务")]),n("div",[e._v(" 斐波那契值为："),n("span",{staticClass:"bold"},[e._v(e._s(e.fibRes))]),n("i",{directives:[{name:"show",rawName:"v-show",value:e.btnLoading,expression:"btnLoading"}],staticClass:"el-icon-loading"}),e._v("         执行用时： "),n("i",{directives:[{name:"show",rawName:"v-show",value:e.btnLoading,expression:"btnLoading"}],staticClass:"el-icon-loading"}),n("span",{staticClass:"bold"},[e._v(e._s(e.fibTime))]),e._v(" 毫秒 ")]),n("br"),n("div",{staticClass:"UI"},[n("span",[e._v("不阻塞后续的代码执行：")]),n("h2",{ref:"renderH2"})]),n("br"),n("br"),n("h1",[e._v("开启多个线程使用$worker.create、postAll方法")]),n("br"),n("el-button",{staticStyle:{"margin-bottom":"12px"},attrs:{type:"success",plain:"",size:"small",loading:e.loadingOne},on:{click:e.noParamsFn}},[e._v("不传参都执行一次")]),n("el-button",{staticStyle:{"margin-bottom":"12px"},attrs:{type:"success",plain:"",size:"small",loading:e.loadingTwo},on:{click:e.byMessageNameStrFn}},[e._v("根据message的名字指定谁执行(字符串形式)")]),n("el-button",{staticStyle:{"margin-bottom":"12px"},attrs:{type:"success",plain:"",size:"small",loading:e.loadingThree},on:{click:e.byMessageNameObjParamsFn}},[e._v("根据message的名字指定谁执行(对象形式可传参)")]),n("div",{staticClass:"info"},[e._v("F12请打开控制台查看--\x3e")]),n("br"),n("h1",[e._v("不使用多线程，使用Promise.all太耗时啦！")]),n("br"),n("el-button",{staticStyle:{"margin-bottom":"12px"},attrs:{type:"success",plain:"",size:"small"},on:{click:e.usePromiseFn}},[e._v("Promise执行多个任务")]),n("div",{staticClass:"info"},[e._v("F12请打开控制台查看--\x3e")])],1)},o=[],i={name:"myWorkName",data(){return{worker:null,btnLoading:!1,fibNum:44,fibRes:null,fibTime:null,loadingOne:!1,loadingTwo:!1,loadingThree:!1,worker2:null}},methods:{openOneThread(){this.btnLoading=!0,this.worker=this.$worker.run(e=>{function n(e){return 1==e|2==e?1:n(e-1)+n(e-2)}let s=Date.now(),t=n(e),o=Date.now();return[t,o-s]},[this.fibNum]).then(e=>{console.log("then",e),this.fibRes=e[0],this.fibTime=e[1],this.btnLoading=!1}).catch(e=>{console.log("err",e),this.btnLoading=!1});let e=this.$refs.renderH2,n=0,s=setInterval(()=>{n>=60?clearInterval(s):(n++,e.innerHTML=n)},100)},noParamsFn(){this.loadingOne=!0,console.time("多个线程计算用时1"),this.worker2.postAll().then(e=>{console.timeEnd("多个线程计算用时1"),console.log("res",e),this.loadingOne=!1}).catch(e=>{console.timeEnd("多个线程计算用时1"),console.log("err",e),this.loadingOne=!1})},byMessageNameStrFn(){this.loadingTwo=!0,console.time("多个线程计算用时2"),this.worker2.postAll(["fn1","fn3"]).then(e=>{console.timeEnd("多个线程计算用时2"),console.log("res",e),this.loadingTwo=!1}).catch(e=>{console.timeEnd("多个线程计算用时2"),console.log("err",e),this.loadingTwo=!1})},byMessageNameObjParamsFn(){this.loadingThree=!0,console.time("多个线程计算用时3"),this.worker2.postAll([{message:"fn1",args:["代码修仙路漫漫","加油干"]}]).then(e=>{console.timeEnd("多个线程计算用时3"),console.log("res",e),this.loadingThree=!1}).catch(e=>{console.timeEnd("多个线程计算用时3"),console.log("err",e),this.loadingThree=!1})},async usePromiseFn(){function e(){let e=new Promise(async(e,n)=>{function s(e){return 1===e|2===e?1:s(e-1)+s(e-1)}e(s(30))});return e}function n(){let e=new Promise(async(e,n)=>{function s(e){return 1===e|2===e?1:s(e-1)+s(e-1)}e(s(30))});return e}function s(){let e=new Promise(async(e,n)=>{function s(e){return 1===e|2===e?1:s(e-1)+s(e-1)}e(s(30))});return e}console.time("使用Promise搭配aysnc和await");let t=[e(),n(),s()],o=await Promise.all(t);console.timeEnd("使用Promise搭配aysnc和await"),console.log("结果",o)}},created(){const e=[{message:"fn1",func:(e,n)=>{function s(e){return 1==e|2==e?1:s(e-1)+s(e-2)}return console.log("params参数--\x3e",e,n),s(30)}},{message:"fn2",func:()=>{function e(n){return 1==n|2==n?1:e(n-1)+e(n-2)}return e(30)}},{message:"fn3",func:()=>{function e(n){return 1==n|2==n?1:e(n-1)+e(n-2)}return e(30)}}];this.worker2=this.$worker.create(e)},beforeDestroy(){this.worker=null}},a=i,r=(s("cdd2"),s("2877")),l=Object(r["a"])(a,t,o,!1,null,"49152811",null);n["default"]=l.exports},cdd2:function(e,n,s){"use strict";s("1e71")}}]);